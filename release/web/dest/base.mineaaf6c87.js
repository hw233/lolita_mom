var btree,__extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();!function(btree){function createUUID(){for(var s=[],i=0;i<36;i++)s[i]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return s[14]="4",s[19]="0123456789abcdef".substr(3&s[19]|8,1),s[8]=s[13]=s[18]=s[23]="-",s.join("")}btree.btree_success=1,btree.btree_failure=2,btree.btree_running=3,btree.btree_error=4;var Blackboard=function(){function Blackboard(){this.m_basememory={},this.m_treememory={}}return Blackboard.prototype._getTreeMemory=function(treeScope){return this.m_treememory[treeScope]||(this.m_treememory[treeScope]={nodeMemory:{},openNodes:[],traversalDepth:0,traversalCycle:0}),this.m_treememory[treeScope]},Blackboard.prototype._getNodeMemory=function(treeMemory,nodeScope){var memory=treeMemory.nodeMemory;return memory[nodeScope]||(memory[nodeScope]={}),memory[nodeScope]},Blackboard.prototype._getMemory=function(treeScope,nodeScope){var memory=this.m_basememory;return treeScope&&(memory=this._getTreeMemory(treeScope),nodeScope&&(memory=this._getNodeMemory(memory,nodeScope))),memory},Blackboard.prototype.set=function(key,value,treeScope,nodeScope){this._getMemory(treeScope,nodeScope)[key]=value},Blackboard.prototype.get=function(key,treeScope,nodeScope){return this._getMemory(treeScope,nodeScope)[key]},Blackboard}();btree.Blackboard=Blackboard;var Tick=function(){function Tick(){this.tree=null,this.debug=null,this.target=null,this.blackboard=null,this._openNodes=new Array,this._nodeCount=0}return Tick.prototype._enterNode=function(node){this._nodeCount++,this._openNodes.push(node)},Tick.prototype._openNode=function(node){},Tick.prototype._tickNode=function(node){},Tick.prototype._closeNode=function(node){this._openNodes.pop()},Tick.prototype._exitNode=function(node){},Tick}();btree.Tick=Tick;var BaseNode=function(){function BaseNode(category,name,title,description,properties){this.id="",this.category="",this.name="",this.title="",this.description="",this.properties={},this.parameters={},this.id=createUUID(),this.category=category||"",this.name=name||"",this.title=title||this.name,this.description=description||"",this.properties=properties||{},this.parameters={}}return BaseNode.prototype._execute=function(tick){this._enter(tick),tick.blackboard.get("isOpen",tick.tree.id,this.id)||this._open(tick);var status=this._tick(tick);return 3!=status&&this._close(tick),this._exit(tick),status},BaseNode.prototype._enter=function(tick){tick._enterNode(this),this.enter(tick)},BaseNode.prototype._open=function(tick){tick._openNode(this),tick.blackboard.set("isOpen",!0,tick.tree.id,this.id),this.open(tick)},BaseNode.prototype._tick=function(tick){return tick._tickNode(this),this.tick(tick)},BaseNode.prototype._close=function(tick){tick._closeNode(this),tick.blackboard.set("isOpen",!1,tick.tree.id,this.id),this.close(tick)},BaseNode.prototype._exit=function(tick){tick._exitNode(this),this.exit(tick)},BaseNode.prototype.enter=function(tick){},BaseNode.prototype.open=function(tick){},BaseNode.prototype.tick=function(tick){},BaseNode.prototype.close=function(tick){},BaseNode.prototype.exit=function(tick){},BaseNode}(),Action=function(_super){function Action(name,title,properties){return void 0===name&&(name="Action"),void 0===title&&(title=null),void 0===properties&&(properties={}),_super.call(this,"action",name,title,"Action desc",properties)||this}return __extends(Action,_super),Action}(btree.BaseNode=BaseNode);btree.Action=Action;var Condition=function(_super){function Condition(name,title,properties){return void 0===name&&(name="Condition"),void 0===title&&(title=null),void 0===properties&&(properties={}),_super.call(this,"condition",name,title,"Condition desc",properties)||this}return __extends(Condition,_super),Condition}(BaseNode);btree.Condition=Condition;var Decorator=function(_super){function Decorator(child,name,title,properties){void 0===child&&(child=null),void 0===name&&(name="Decorator"),void 0===title&&(title=null),void 0===properties&&(properties={});var _this=_super.call(this,"composite",name,title,"Decorator desc",properties)||this;return _this.child=null,_this.child=child,_this}return __extends(Decorator,_super),Decorator}(BaseNode);btree.Decorator=Decorator;var Composite=function(_super){function Composite(children,name,title,properties){void 0===children&&(children=[]),void 0===name&&(name="Composite"),void 0===title&&(title=null),void 0===properties&&(properties={});var _this=_super.call(this,"composite",name,title,"Composite desc",properties)||this;return _this.children=new Array,_this.children=children.slice(0),_this}return __extends(Composite,_super),Composite}(BaseNode);btree.Composite=Composite;var Error=function(_super){function Error(properties){return _super.call(this,"Error")||this}return __extends(Error,_super),Error.prototype.tick=function(tick){return 4},Error}(Action);btree.Error=Error;var Failer=function(_super){function Failer(properties){return _super.call(this,"Failer")||this}return __extends(Failer,_super),Failer.prototype.tick=function(tick){return 2},Failer}(Action);btree.Failer=Failer;var Runner=function(_super){function Runner(properties){return _super.call(this,"Runner")||this}return __extends(Runner,_super),Runner.prototype.tick=function(tick){return 3},Runner}(Action);btree.Runner=Runner;var Succeeder=function(_super){function Succeeder(properties){return _super.call(this,"Succeeder")||this}return __extends(Succeeder,_super),Succeeder.prototype.tick=function(tick){return 1},Succeeder}(Action);btree.Succeeder=Succeeder;var Wait=function(_super){function Wait(properties){var _this=_super.call(this,"Wait","Wait <milliseconds>ms",{milliseconds:0})||this;return _this.endTime=0,_this.endTime=properties.milliseconds||0,_this}return __extends(Wait,_super),Wait.prototype.open=function(tick){var startTime=(new Date).getTime();tick.blackboard.set("startTime",startTime,tick.tree.id,this.id)},Wait.prototype.tick=function(tick){return(new Date).getTime()-tick.blackboard.get("startTime",tick.tree.id,this.id)>this.endTime?1:3},Wait}(Action);btree.Wait=Wait;var MemPriority=function(_super){function MemPriority(properties){return _super.call(this,properties.children||[],"MemPriority")||this}return __extends(MemPriority,_super),MemPriority.prototype.open=function(tick){tick.blackboard.set("runningChild",0,tick.tree.id,this.id)},MemPriority.prototype.tick=function(tick){for(var i=tick.blackboard.get("runningChild",tick.tree.id,this.id);i<this.children.length;i++){var status_1=this.children[i]._execute(tick);if(2!==status_1)return 3===status_1&&tick.blackboard.set("runningChild",i,tick.tree.id,this.id),status_1}return 2},MemPriority}(Composite);btree.MemPriority=MemPriority;var RandomPriority=function(_super){function RandomPriority(properties){return _super.call(this,properties.children||[],"RandomPriority")||this}return __extends(RandomPriority,_super),RandomPriority.prototype.open=function(tick){tick.blackboard.set("runningChild",0,tick.tree.id,this.id);for(var min,max,min_int,max_int,radio,tempchildren=new Array;0<this.children.length;){var idx=(min=0,max=this.children.length,void 0,min_int=Math.floor(min),max_int=Math.floor(max),radio=Math.random(),Math.floor(min_int+(max_int-min_int)*radio));tempchildren.push(this.children.splice(idx,1)[0])}this.children=tempchildren},RandomPriority.prototype.tick=function(tick){for(var i=tick.blackboard.get("runningChild",tick.tree.id,this.id);i<this.children.length;i++){var status_2=this.children[i]._execute(tick);if(2!==status_2)return 3===status_2&&tick.blackboard.set("runningChild",i,tick.tree.id,this.id),status_2}return 2},RandomPriority}(Composite);btree.RandomPriority=RandomPriority;var Priority=function(_super){function Priority(properties){return _super.call(this,properties.children||[],"Priority")||this}return __extends(Priority,_super),Priority.prototype.tick=function(tick){for(var i=0;i<this.children.length;i++){var status_3=this.children[i]._execute(tick);if(2!==status_3)return status_3}return 2},Priority}(Composite);btree.Priority=Priority;var MemSequence=function(_super){function MemSequence(properties){return _super.call(this,properties.children||[],"MemSequence")||this}return __extends(MemSequence,_super),MemSequence.prototype.open=function(tick){tick.blackboard.set("runningChild",0,tick.tree.id,this.id)},MemSequence.prototype.tick=function(tick){for(var i=tick.blackboard.get("runningChild",tick.tree.id,this.id);i<this.children.length;i++){var status_4=this.children[i]._execute(tick);if(1!==status_4)return 3===status_4&&tick.blackboard.set("runningChild",i,tick.tree.id,this.id),status_4}return 1},MemSequence}(Composite);btree.MemSequence=MemSequence;var ParallelSequence=function(_super){function ParallelSequence(properties){return _super.call(this,properties.children||[],"ParallelSequence")||this}return __extends(ParallelSequence,_super),ParallelSequence.prototype.tick=function(tick){for(var succeedcount=0,b_failure=!1,i=0;i<this.children.length;i++){var status_5=this.children[i]._execute(tick);1==status_5?succeedcount+=1:2==status_5&&(b_failure=!0)}return succeedcount>=this.children.length?1:b_failure?2:3},ParallelSequence}(Composite);btree.ParallelSequence=ParallelSequence;var Sequence=function(_super){function Sequence(properties){return _super.call(this,properties.children||[],"Sequence")||this}return __extends(Sequence,_super),Sequence.prototype.tick=function(tick){for(var i=0;i<this.children.length;i++){var status_6=this.children[i]._execute(tick);if(1!==status_6)return status_6}return 1},Sequence}(Composite);btree.Sequence=Sequence;var Inverter=function(_super){function Inverter(properties){return _super.call(this,properties.child||null,"Inverter")||this}return __extends(Inverter,_super),Inverter.prototype.tick=function(tick){if(!this.child)return 4;var status=this.child._execute(tick);return 1==status?status=2:2==status&&(status=1),status},Inverter}(Decorator);btree.Inverter=Inverter;var Limiter=function(_super){function Limiter(properties){var _this=_super.call(this,properties.child||null,"Limiter","Limit <maxLoop> Activations",{maxLoop:1})||this;return _this.maxLoop=1,_this.maxLoop=properties.maxLoop||1,_this}return __extends(Limiter,_super),Limiter.prototype.open=function(tick){tick.blackboard.set("i",0,tick.tree.id,this.id)},Limiter.prototype.tick=function(tick){if(!this.child)return 4;var i=tick.blackboard.get("i",tick.tree.id,this.id);if(i<this.maxLoop){var status_7=this.child._execute(tick);return 1!=status_7&&2!=status_7||tick.blackboard.set("i",i+1,tick.tree.id,this.id),status_7}return 2},Limiter}(Decorator);btree.Limiter=Limiter;var MaxTime=function(_super){function MaxTime(properties){var _this=_super.call(this,properties.child||null,"MaxTime","Max <maxTime>ms",{maxTime:0})||this;return _this.maxTime=1,_this.maxTime=properties.maxTime||0,_this}return __extends(MaxTime,_super),MaxTime.prototype.open=function(tick){var startTime=(new Date).getTime();tick.blackboard.set("startTime",startTime,tick.tree.id,this.id)},MaxTime.prototype.tick=function(tick){if(!this.child)return 4;var currTime=(new Date).getTime(),startTime=tick.blackboard.get("startTime",tick.tree.id,this.id),status=this.child._execute(tick);return currTime-startTime>this.maxTime?2:status},MaxTime}(Decorator);btree.MaxTime=MaxTime;var Repeater=function(_super){function Repeater(properties){var _this=_super.call(this,properties.child||null,"Repeater","Repeat <maxLoop>x",{maxLoop:-1})||this;return _this.maxLoop=1,_this.maxLoop=properties.maxLoop||-1,_this}return __extends(Repeater,_super),Repeater.prototype.open=function(tick){tick.blackboard.set("i",0,tick.tree.id,this.id)},Repeater.prototype.tick=function(tick){if(!this.child)return 4;for(var i=tick.blackboard.get("i",tick.tree.id,this.id),status=1;(this.maxLoop<0||i<this.maxLoop)&&(1==(status=this.child._execute(tick))||2==status);)i++;return tick.blackboard.set("i",i,tick.tree.id,this.id),status},Repeater}(Decorator);btree.Repeater=Repeater;var RepeatUntilFailure=function(_super){function RepeatUntilFailure(properties){var _this=_super.call(this,properties.child||null,"RepeatUntilFailure","Repeat Until Failure",{maxLoop:-1})||this;return _this.maxLoop=1,_this.maxLoop=properties.maxLoop||-1,_this}return __extends(RepeatUntilFailure,_super),RepeatUntilFailure.prototype.open=function(tick){tick.blackboard.set("i",0,tick.tree.id,this.id)},RepeatUntilFailure.prototype.tick=function(tick){if(!this.child)return 4;for(var i=tick.blackboard.get("i",tick.tree.id,this.id),status=4;(this.maxLoop<0||i<this.maxLoop)&&1==(status=this.child._execute(tick));)i++;return tick.blackboard.set("i",i,tick.tree.id,this.id),status},RepeatUntilFailure}(Decorator);btree.RepeatUntilFailure=RepeatUntilFailure;var RepeatUntilSuccess=function(_super){function RepeatUntilSuccess(properties){var _this=_super.call(this,properties.child||null,"RepeatUntilSuccess","Repeat Until Success",{maxLoop:-1})||this;return _this.maxLoop=1,_this.maxLoop=properties.maxLoop||-1,_this}return __extends(RepeatUntilSuccess,_super),RepeatUntilSuccess.prototype.open=function(tick){tick.blackboard.set("i",0,tick.tree.id,this.id)},RepeatUntilSuccess.prototype.tick=function(tick){if(!this.child)return 4;for(var i=tick.blackboard.get("i",tick.tree.id,this.id),status=4;(this.maxLoop<0||i<this.maxLoop)&&2==(status=this.child._execute(tick));)i++;return tick.blackboard.set("i",i,tick.tree.id,this.id),status},RepeatUntilSuccess}(Decorator);btree.RepeatUntilSuccess=RepeatUntilSuccess;var BehaviorTree=function(){function BehaviorTree(){this.id=createUUID(),this.title="The behavior tree",this.description="Default description",this.properties={},this.root=null,this.debug=null}return BehaviorTree.prototype.tick=function(target,blackboard){var tick=new Tick;tick.debug=this.debug,tick.target=target,tick.blackboard=blackboard;var i,status=(tick.tree=this).root._execute(tick),lastOpenNodes=blackboard.get("openNodes",this.id,null),currOpenNodes=tick._openNodes.slice(0),start=0;for(i=0;i<Math.min(lastOpenNodes.length,currOpenNodes.length)&&(start=i+1,lastOpenNodes[i]===currOpenNodes[i]);i++);for(i=lastOpenNodes.length-1;start<=i;i--)lastOpenNodes[i]._close(tick);return blackboard.set("openNodes",currOpenNodes,this.id,null),blackboard.set("nodeCount",tick._nodeCount,this.id,null),status},BehaviorTree.init_cls=function(){BehaviorTree.cls_dict.Error=Error,BehaviorTree.cls_dict.Failer=Failer,BehaviorTree.cls_dict.Runner=Runner,BehaviorTree.cls_dict.Succeeder=Succeeder,BehaviorTree.cls_dict.Wait=Wait,BehaviorTree.cls_dict.MemPriority=MemPriority,BehaviorTree.cls_dict.MemSequence=MemSequence,BehaviorTree.cls_dict.RandomPriority=RandomPriority,BehaviorTree.cls_dict.Priority=Priority,BehaviorTree.cls_dict.Sequence=Sequence,BehaviorTree.cls_dict.Inverter=Inverter,BehaviorTree.cls_dict.Limiter=Limiter,BehaviorTree.cls_dict.MaxTime=MaxTime,BehaviorTree.cls_dict.Repeater=Repeater,BehaviorTree.cls_dict.RepeatUntilFailure=RepeatUntilFailure,BehaviorTree.cls_dict.RepeatUntilSuccess=RepeatUntilSuccess,BehaviorTree.cls_dict.hasEnemy=hasEnemy,BehaviorTree.cls_dict.isDead=isDead,BehaviorTree.cls_dict.isAttacked=isAttacked,BehaviorTree.cls_dict.Attack=Attack,BehaviorTree.cls_dict.Dead=Dead,BehaviorTree.cls_dict.Attacked=Attacked,BehaviorTree.cls_dict.WalkLeft=WalkLeft,BehaviorTree.cls_dict.WalkRight=WalkRight},BehaviorTree.prototype.load=function(data,names){names=names||{},this.title=data.title||this.title,this.description=data.description||this.description,this.properties=data.properties||this.properties;var spec,node,nodes={};for(var id_1 in data.nodes){var Cls=void 0;if((spec=data.nodes[id_1]).name in names)Cls=names[spec.name];else{if(!BehaviorTree.cls_dict.hasOwnProperty(spec.name)){console.error('BehaviorTree.load: Invalid node name + "'+spec.name+'".');continue}Cls=BehaviorTree.cls_dict[spec.name]}(node=new Cls(spec.properties)).id=spec.id||node.id,node.title=spec.title||node.title,node.description=spec.description||node.description,node.properties=spec.properties||node.properties,nodes[id_1]=node}for(var id_2 in data.nodes)if(spec=data.nodes[id_2],"composite"==(node=nodes[id_2]).category&&spec.children)for(var i=0;i<spec.children.length;i++){var cid=spec.children[i];node.children.push(nodes[cid])}else"decorator"==node.category&&spec.child&&(node.child=nodes[spec.child]);this.root=nodes[data.root]},BehaviorTree.prototype.dump=function(){var data={},customNames=[];if(data.title=this.title,data.description=this.description,data.root=this.root?this.root.id:null,data.properties=this.properties,data.nodes={},data.custom_nodes=[],!this.root)return data;for(var stack=[this.root];0<stack.length;){var node=stack.pop(),spec={};spec.id=node.id,spec.name=node.name,spec.title=node.title,spec.description=node.description,spec.properties=node.properties,spec.parameters=node.parameters;var proto=node.constructor&&node.constructor.prototype,nodeName=proto&&proto.name||node.name;if(!BehaviorTree.cls_dict.hasOwnProperty(nodeName)&&customNames.indexOf(nodeName)<0){var subdata={};subdata.name=nodeName,subdata.title=proto&&proto.title||node.title,subdata.category=node.category,customNames.push(nodeName),data.custom_nodes.push(subdata)}if("composite"===node.category&&node.children){for(var children=[],i=node.children.length-1;0<=i;i--)children.push(node.children[i].id),stack.push(node.children[i]);spec.children=children}else"decorator"===node.category&&node.child&&(stack.push(node.child),spec.child=node.child.id);data.nodes[node.id]=spec}return data},BehaviorTree.cls_dict=new Object,BehaviorTree}();btree.BehaviorTree=BehaviorTree;var hasEnemy=function(_super){function hasEnemy(properties){return _super.call(this,"hasEnemy")||this}return __extends(hasEnemy,_super),hasEnemy.prototype.tick=function(tick){return tick.target.testaifunc(this.name)},hasEnemy}(Condition);btree.hasEnemy=hasEnemy;var isDead=function(_super){function isDead(properties){return _super.call(this,"isDead")||this}return __extends(isDead,_super),isDead.prototype.tick=function(tick){return tick.target.testaifunc(this.name)},isDead}(Condition);btree.isDead=isDead;var isAttacked=function(_super){function isAttacked(properties){return _super.call(this,"isAttacked")||this}return __extends(isAttacked,_super),isAttacked.prototype.tick=function(tick){return tick.target.testaifunc(this.name)},isAttacked}(Condition);btree.isAttacked=isAttacked;var Attack=function(_super){function Attack(properties){return _super.call(this,"Attack")||this}return __extends(Attack,_super),Attack.prototype.tick=function(tick){return tick.target.testaifunc(this.name)},Attack}(Action);btree.Attack=Attack;var Dead=function(_super){function Dead(properties){return _super.call(this,"Dead")||this}return __extends(Dead,_super),Dead.prototype.tick=function(tick){return tick.target.testaifunc(this.name)},Dead}(Action);btree.Dead=Dead;var Attacked=function(_super){function Attacked(properties){return _super.call(this,"Attacked")||this}return __extends(Attacked,_super),Attacked.prototype.tick=function(tick){return tick.target.testaifunc(this.name)},Attacked}(Action);btree.Attacked=Attacked;var WalkLeft=function(_super){function WalkLeft(properties){return _super.call(this,"WalkLeft")||this}return __extends(WalkLeft,_super),WalkLeft.prototype.tick=function(tick){return tick.target.testaifunc(this.name)},WalkLeft}(Action);btree.WalkLeft=WalkLeft;var WalkRight=function(_super){function WalkRight(properties){return _super.call(this,"WalkRight")||this}return __extends(WalkRight,_super),WalkRight.prototype.tick=function(tick){return tick.target.testaifunc(this.name)},WalkRight}(Action);btree.WalkRight=WalkRight}(btree||(btree={})),function(base){base.HUMAN_MALE=101,base.HUMAN_FEMALE=102,base.SEX_MALE=1,base.SEX_FEMALE=2,base.PLAYER_LV_MAX=200,base.WARPOS_RIGHTLEADER=1,base.WARPOS_LEFTLEADER=21,base.ONCETASK_ID_OPERA_START=10001,base.ONCETASK_ID_OPERA_END=10017,base.ONCETASK_ID_OPERA_SECOND=10011,base.TEXT_FONTSIZE=48,base.TEXT_FONTSIZE_BIG=60,base.TEXT_FONTSIZE_SMALL=40,base.GUAJI_SCENE_START=2e3,base.GUAJI_SCENE_END=2499,base.CROSS_SERVER_SCENE_START=2500,base.CROSS_SERVER_SCENE_END=2999,base.CROSS_WLMZ_SCENE_START=2501,base.CROSS_WLMZ_SCENE_END=2507,base.GANG_MAP_SCENE_START=3001,base.GANG_MAP_SCENE_END=3003,base.COIN_ARR=[1,2,3],base.COIN_MAP={1:997,2:998,3:999},base.PLAYER_STATUS_NONE=0,base.PLAYER_STATUS_COMBAT=1,base.ITEMTYPE_EQUIP_START=100,base.ITEMTYPE_EQUIP_END=199,base.ITEMTYPE_COST_START=200,base.ITEMTYPE_COST_END=299,base.ITEMTYPE_DEVELOP_START=111,base.ITEMTYPE_DEVELOP_END=158,base.ITEM_WEAPON=101,base.ITEM_NECKLACE=102,base.ITEM_SHOULDER=103,base.ITEM_CUFF=104,base.ITEM_RING=105,base.ITEM_HELMET=106,base.ITEM_CLOTHES=107,base.ITEM_BELT=108,base.ITEM_PANTS=109,base.ITEM_SHOES=110,base.ITEM_JIAO=111,base.ITEM_SHENG=112,base.ITEM_AN=113,base.ITEM_DENG=114,base.ITEM_YU=115,base.ITEM_JING=116,base.ITEM_SI=117,base.ITEM_HUA=118,base.ITEM_WEAPON1=135,base.ITEM_WEAPON2=136,base.ITEM_WEAPON3=137,base.ITEM_WEAPON4=138,base.ITEM_ELF1=139,base.ITEM_ELF2=140,base.ITEM_ELF3=141,base.ITEM_ELF4=142,base.ITEM_HE=119,base.ITEM_SUN=120,base.ITEM_WU=121,base.ITEM_XUAN=122,base.ITEM_JI=123,base.ITEM_MANG=124,base.ITEM_YUN=125,base.ITEM_YI=126,base.ITEM_ZHEN1=127,base.ITEM_ZHEN2=128,base.ITEM_ZHEN3=129,base.ITEM_ZHEN4=130,base.ITEM_REALM1=131,base.ITEM_REALM2=132,base.ITEM_REALM3=133,base.ITEM_REALM4=134,base.ITEM_ANGEL1=143,base.ITEM_ANGEL2=144,base.ITEM_ANGEL3=145,base.ITEM_ANGEL4=146,base.ITEM_WAND1=147,base.ITEM_WAND2=148,base.ITEM_WAND3=149,base.ITEM_WAND4=150,base.ITEM_CLOUD1=151,base.ITEM_CLOUD2=152,base.ITEM_CLOUD3=153,base.ITEM_CLOUD4=154,base.ITEM_HALO1=155,base.ITEM_HALO2=156,base.ITEM_HALO3=157,base.ITEM_HALO4=158,base.ITEM_SWEAPON=159,base.ITEM_SNECKLACE=160,base.ITEM_SSHOULDER=161,base.ITEM_SCUFF=162,base.ITEM_SRING=163,base.ITEM_SHELMET=164,base.ITEM_SCLOTHES=165,base.ITEM_SBELT=166,base.ITEM_SPANTS=167,base.ITEM_SSHOES=168,base.ITEM_FORGE_COST=202,base.ITEM_FASHION_SKINCARD=203,base.ITEM_BOSSBACK_COST=204,base.ITEM_TITLE_SKINCARD=205,base.ITEM_DANYAO=206,base.ITEM_JINGMAI=207,base.ITEM_SUMMON_CARD=210,base.ITEM_SUMMON_COST=211,base.ITEM_SUMMON_PIECE=212,base.ITEM_PARTNER_COST=215,base.ITEM_PARTNER_CARD=216,base.ITEM_PARTNER_PIECE=217,base.ITEM_HORSE_COST=225,base.ITEM_HORSE_SKINCARD=226,base.ITEM_WING_COST=230,base.ITEM_WING_SKINCARD=231,base.ITEM_ELF_COST=235,base.ITEM_ELF_SKINCARD=236,base.ITEM_WEAPON_COST=237,base.ITEM_WEAPON_SKINCARD=238,base.ITEM_AURA_COST=239,base.ITEM_SOUL_COST=241,base.ITEM_ZHEN_COST=243,base.ITEM_REALM_COST=245,base.ITEM_ANGLE_COST=247,base.ITEM_ANGLE_SKINCARD=248,base.ITEM_WAND_COST=249,base.ITEM_CLOUD_COST=250,base.ITEM_HALO_COST=251,base.ITEM_USE_GO=0,base.ITEM_USE_ONE=1,base.ITEM_USE_BATCH=2,base.ITEM_USE_CPS=3,base.QT_GRAY=0,base.QT_GREEN=1,base.QT_BLUE=2,base.QT_PURPLE=3,base.QT_GOLD=4,base.QT_RED=5,base.QT_COLOR_GRAY="#FFFFFF",base.QT_COLOR_GREEN="#12A710",base.QT_COLOR_BLUE="#11B0E5",base.QT_COLOR_PURPLE="#C63EED",base.QT_COLOR_GOLD="#F29E07",base.QT_COLOR_RED="#ED3E46",base.QT_COLOR_GRAY2="#FFFFFF",base.QT_COLOR_GREEN2="#00FF1E",base.QT_COLOR_BLUE2="#00FFFF",base.QT_COLOR_PURPLE2="#B000AA",base.QT_COLOR_GOLD2="#FFFF00",base.QT_COLOR_RED2="#FF2828",base.POS_WEAPON=1,base.POS_NECKLACE=2,base.POS_SHOULDER=3,base.POS_CUFF=4,base.POS_RING=5,base.POS_HELMET=6,base.POS_CLOTHES=7,base.POS_BELT=8,base.POS_PANTS=9,base.POS_SHOES=10,base.POS_JIAO=11,base.POS_SHENG=12,base.POS_AN=13,base.POS_DENG=14,base.POS_YU=15,base.POS_JING=16,base.POS_SI=17,base.POS_HUA=18,base.POS_WEAPON1=35,base.POS_WEAPON2=36,base.POS_WEAPON3=37,base.POS_WEAPON4=38,base.POS_ELF1=39,base.POS_ELF2=40,base.POS_ELF3=41,base.POS_ELF4=42,base.POS_HE=19,base.POS_SUN=20,base.POS_WU=21,base.POS_XUAN=22,base.POS_JI=23,base.POS_MANG=24,base.POS_YUN=25,base.POS_YI=26,base.POS_ZHEN1=27,base.POS_ZHEN2=28,base.POS_ZHEN3=29,base.POS_ZHEN4=30,base.POS_REALM1=31,base.POS_REALM2=32,base.POS_REALM3=33,base.POS_REALM4=34,base.POS_ANGLE1=43,base.POS_ANGLE2=44,base.POS_ANGLE3=45,base.POS_ANGLE4=46,base.POS_WAND1=47,base.POS_WAND2=48,base.POS_WAND3=49,base.POS_WAND4=50,base.POS_CLOUD1=51,base.POS_CLOUD2=52,base.POS_CLOUD3=53,base.POS_CLOUD4=54,base.POS_HALO1=55,base.POS_HALO2=56,base.POS_HALO3=57,base.POS_HALO4=58,base.POS_SWEAPON=59,base.POS_SNECKLACE=60,base.POS_SSHOULDER=61,base.POS_SCUFF=62,base.POS_SRING=63,base.POS_SHELMET=64,base.POS_SCLOTHES=65,base.POS_SBELT=66,base.POS_SPANTS=67,base.POS_SSHOES=68,base.POS_EQUIP_MAX=99,base.EQUIP_GRID_MAX=600,base.EQUIP_GRID_BUY_MAX=200,base.FORMAT_COLOR={"#C0&":"#FFFFFF","#C1&":"#12A710","#C2&":"#11B0E5","#C3&":"#C63EED","#C4&":"#F29E07","#C5&":"#ED3E46","#C6&":"#ED3E46","#C7&":"#BD8651","#C8&":"#12A710","#C9&":"#A83937","#C10&":"#6D4B46","#C11&":"#ED3E46","#C12&":"#00FFFF","#C13&":"#FFBFD0","#C14&":"#F8F078","#C15&":"#FFFF00","#C16&":"#12A710","#C17&":"#F8FC00","#C18&":"#00FF1E","#C19&":"#B000AA","#C20&":"#FF2828","#C99&":"#000000"},base.FORMAT_EMOTION={"#0":"#E0&","#1":"#E1&","#2":"#E2&","#3":"#E3&","#4":"#E4&","#5":"#E5&","#6":"#E6&","#7":"#E7&","#8":"#E8&","#9":"#E9&","#10":"#E10&","#11":"#E11&","#12":"#E12&","#13":"#E13&","#14":"#E14&","#15":"#E15&","#16":"#E16&","#17":"#E17&","#18":"#E18&","#19":"#E19&","#20":"#E20&","#21":"#E21&","#22":"#E22&","#23":"#E23&","#24":"#E24&","#25":"#E25&","#26":"#E26&","#27":"#E27&","#28":"#E28&","#29":"#E29&","#30":"#E30&","#31":"#E31&","#32":"#E32&","#33":"#E33&","#34":"#E34&","#35":"#E35&"},base.SET_EMOTION_URL={"#E0&":"emotion/face0.png","#E1&":"emotion/face1.png","#E2&":"emotion/face2.png","#E3&":"emotion/face3.png","#E4&":"emotion/face4.png","#E5&":"emotion/face5.png","#E6&":"emotion/face6.png","#E7&":"emotion/face7.png","#E8&":"emotion/face8.png","#E9&":"emotion/face9.png","#E10&":"emotion/face10.png","#E11&":"emotion/face11.png","#E12&":"emotion/face12.png","#E13&":"emotion/face13.png","#E14&":"emotion/face14.png","#E15&":"emotion/face15.png","#E16&":"emotion/face16.png","#E17&":"emotion/face17.png","#E18&":"emotion/face18.png","#E19&":"emotion/face19.png","#E20&":"emotion/face20.png","#E21&":"emotion/face21.png","#E22&":"emotion/face22.png","#E23&":"emotion/face23.png","#E24&":"emotion/face24.png","#E25&":"emotion/face25.png","#E26&":"emotion/face26.png","#E27&":"emotion/face27.png","#E28&":"emotion/face28.png","#E29&":"emotion/face29.png","#E30&":"emotion/face30.png","#E31&":"emotion/face31.png","#E32&":"emotion/face32.png","#E33&":"emotion/face33.png","#E34&":"emotion/face34.png","#E35&":"emotion/face35.png"},base.FORMAT_FONT={"#F0&":"30","#F1&":"35","#F2&":"40","#F3&":"45","#F4&":"50","#F5&":"55","#F6&":"60","#F7&":"65","#F8&":"70","#F9&":"75"},base.SET_PICTURE_URL={"#P0&":"emotion/face0.png","#P1&":"emotion/face0.png","#P2&":"emotion/face0.png","#P3&":"emotion/face0.png","#P4&":"emotion/face0.png","#P5&":"emotion/face0.png","#P6&":"emotion/face0.png","#P7&":"emotion/face0.png","#P8&":"emotion/face0.png","#P9&":"emotion/face0.png"},base.CHANNEL_GANG=2,base.CHANNEL_WORLD=3,base.CHANNEL_ACROSSSVR=4,base.CHANNEL_INFO=5,base.CHANNEL_SYS=6,base.CHANNEL_RECRUIT=7,base.PROP_HP=128,base.PROP_ATK=129,base.PROP_DEF=130,base.PROP_ID_ARR=[128,129,130,131,132,133,134,135],base.PROP_KEYSTR_ARR=["hp","atk","def","spd","cri","res","hit","dod"],base.PROP_KEYSTR_2_ID_MAP={hp:128,atk:129,def:130,spd:131,cri:132,res:133,hit:134,dod:135},base.PROP_RATIO_MAP={128:.5,129:5,130:5,131:250,132:10,133:10,134:10,135:10},base.SUMMON_LV_MAX=200,base.SUMMON_APT_LV_MAX=5,base.PARTNER_LV_MAX=15,base.PARTNER_STAR_LV_MAX=7,base.PARTNER_YUAN_LV_MAX=10,base.DEVELOP_LV_MAX=15,base.DEVELOP_SKILL_LV_MAX=15,base.DEVELOP_SKILL_OPENLV_ARR=[2,3,5,7],base.DEVELOP_JINGMAI_LV_MAX=10,base.DEVELOP_JINGMAI_EXP_MAX=11,base.GANG_ASSISTANT=1,base.GANG_DEPUTY_ASSISTANT=2,base.GANG_NORMAL_MEMBER=3,base.GANG_LV_MIN=52,base.RANK_LEVEL=1,base.RANK_MAINROUND=2,base.RANK_TREASURE=3,base.RANK_TOWER=4,base.RANK_HEAVEN=5,base.RANK_WEAPON=6,base.RANK_ELF=7,base.RANK_HORSE=8,base.RANK_WING=9,base.RANK_XIANZHEN=10,base.RANK_JINGJIE=11,base.RANK_GUANGHUAN=12,base.RANK_SHOUHUN=13,base.RANK_ZHANLI=14,base.RANK_CONSUME=15,base.ACTIVITY_DAILY_ANSWER=6,base.ACTIVITY_PANDA_KF=13,base.ACTIVITY_PANDA_LX=12,base.ACTIVITY_TOTAL_PAY_KF=15,base.ACTIVITY_TOTAL_PAY_LX=14,base.ACTIVITY_GO_NEXT_LV=16,base.ACTIVITY_DEVELOP_RWD=17,base.ACTIVITY_DEVELOP_RANK=18,base.ACTIVITY_COMMON_UPGRADE=19,base.ACTIVITY_GROW_UP=20,base.ACTIVITY_INVEST=21,base.ACTIVITY_FIRST_PAY_GROUP=22,base.ACTIVITY_COMMON_RUSHGRADE=25,base.ACTIVITY_OPENPLAY_RWD=26,base.ACTIVITY_COOKERGOD=27,base.ACTIVITY_PURCHASE_GIFT_BAG=28,base.ACTIVITY_TODAY_GIFT_KF=29,base.ACTIVITY_TODAY_GIFT_LX=31,base.ACTIVITY_RECHARGE_GIFT=32,base.ACTIVITY_KFHD=35,base.ACTIVITY_CONTINUE_CONSUME=33,base.ACTIVITY_CONSUME_RANK=34,base.HINTTYPE_SKIN=129,base.HINTTYPE_TITLE=130,base.HINTTYPE_RIDE=131,base.HINTTYPE_RIDE_SKIN=132,base.HINTTYPE_WING=133,base.HINTTYPE_WING_SKIN=134,base.HINTTYPE_GUANGWU=135,base.HINTTYPE_GUANGWU_SKIN=136,base.HINTTYPE_JINGLING=137,base.HINTTYPE_JINGLING_SKIN=138,base.HINTTYPE_SUMMON=144,base.HINTTYPE_SUMMONAURA=145,base.HINTTYPE_SUMMONSOUL=146,base.HINTTYPE_PARTNER=147,base.HINTTYPE_PARTNERJINGJIE=148,base.HINTTYPE_PARTNERXIANZHEN=149,base.SERGHY_NOOPD=0,base.SERGHY_OWN=1,base.SERGHY_ENEMY=2,base.SCENE_PLAYER_FREE=0,base.SCENE_PLAYER_COMBAT=1,base.GANG_MAP_MINGING=0,base.GANG_MAP_PLANT=1,base.GANG_MAP_WATER=2}(base||(base={}));var filtersmgr,fontmgr,frametask,fsm;__extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();!function(base){var ExtButton=function(_super){function ExtButton(){var _this=_super.call(this)||this;return _this.on(Laya.Event.CLICK,_this,_this.on_click),_this}return __extends(ExtButton,_super),ExtButton.prototype.on_click=function(ud){void 0===ud&&(ud=null),utils.event_ins().fire_event_next_frame(game_event.EVENT_BUTTON_CLICK)},ExtButton}(Laya.Button);base.ExtButton=ExtButton}(base||(base={})),function(filtersmgr){var FILTERSSTYLE_ENUM;!function(FILTERSSTYLE_ENUM){FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.DEFAULT=0]="DEFAULT",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.DISABLE_BLACK=1]="DISABLE_BLACK",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.DISABLE_URLESS=2]="DISABLE_URLESS",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.BLACKWRITE=3]="BLACKWRITE",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.GRAY=4]="GRAY",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.RED=5]="RED",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.LIGHT=6]="LIGHT",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.GFBACK=7]="GFBACK",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.GFBLUE=8]="GFBLUE",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.GFWHITE=9]="GFWHITE",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.GFYELLOW=10]="GFYELLOW",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.GFBLUEGREEN=11]="GFBLUEGREEN",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.GFQGREEN=12]="GFQGREEN",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.GFQBLUE=13]="GFQBLUE",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.GFQPURPLE=14]="GFQPURPLE",FILTERSSTYLE_ENUM[FILTERSSTYLE_ENUM.GFQYELLOW=15]="GFQYELLOW"}(FILTERSSTYLE_ENUM=filtersmgr.FILTERSSTYLE_ENUM||(filtersmgr.FILTERSSTYLE_ENUM={}));var filtersstylemgr=function(){function filtersstylemgr(){this._filtersmap=new Object,this._filtersmap[FILTERSSTYLE_ENUM.DEFAULT]=[new Laya.GlowFilter("#5e391b",3,3,3)],this._filtersmap[FILTERSSTYLE_ENUM.DISABLE_BLACK]=[new Laya.ColorFilter([1,0,0,0,-255,0,1,0,0,-255,0,0,1,0,-255,0,0,0,1,0])],this._filtersmap[FILTERSSTYLE_ENUM.DISABLE_URLESS]=[new Laya.ColorFilter([.432,.6094,.082,0,0,.3086,.7922,.082,0,0,.3086,.6094,.0951,0,0,0,0,0,1,0])],this._filtersmap[FILTERSSTYLE_ENUM.BLACKWRITE]=[new Laya.ColorFilter([.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0])],this._filtersmap[FILTERSSTYLE_ENUM.GRAY]=[new Laya.ColorFilter([.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0])],this._filtersmap[FILTERSSTYLE_ENUM.RED]=[new Laya.ColorFilter([.3086,.6094,.082,0,100,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0])],this._filtersmap[FILTERSSTYLE_ENUM.LIGHT]=[new Laya.ColorFilter([1,0,0,0,50,0,1,0,0,50,0,0,1,0,50,0,0,0,1,0])],this._filtersmap[FILTERSSTYLE_ENUM.GFBACK]=[new Laya.GlowFilter("#000000",2,3,3)],this._filtersmap[FILTERSSTYLE_ENUM.GFBLUE]=[new Laya.GlowFilter("#00ccff",1,3,3)],this._filtersmap[FILTERSSTYLE_ENUM.GFWHITE]=[new Laya.GlowFilter("#FFFFFF",1,3,3)],this._filtersmap[FILTERSSTYLE_ENUM.GFYELLOW]=[new Laya.GlowFilter("#FFa800",1,3,3)],this._filtersmap[FILTERSSTYLE_ENUM.GFBLUEGREEN]=[new Laya.GlowFilter("#00FFFF",3,4,4)],this._filtersmap[FILTERSSTYLE_ENUM.GFQGREEN]=[new Laya.GlowFilter("#1DBD2D",1,32,32)],this._filtersmap[FILTERSSTYLE_ENUM.GFQBLUE]=[new Laya.GlowFilter("#0078DB",1,32,32)],this._filtersmap[FILTERSSTYLE_ENUM.GFQPURPLE]=[new Laya.GlowFilter("#EB45F6",1,32,32)],this._filtersmap[FILTERSSTYLE_ENUM.GFQYELLOW]=[new Laya.GlowFilter("#fbeb36",3,10,10)]}return filtersstylemgr.prototype.getfiltersbyid=function(id){return this._filtersmap[id]},filtersstylemgr.prototype.set_filter=function(l,id){var filters=this.getfiltersbyid(id);return null!=filters&&null!=filters&&(l.filters=filters),!0},filtersstylemgr}(),g_ins=null;filtersmgr.set_filter=function(l,id){return(null==g_ins&&(g_ins=new filtersstylemgr),g_ins).set_filter(l,id)}}(filtersmgr||(filtersmgr={})),function(fontmgr){var FONTSTYLE_ENUM,TextFormat=function(f,c,b,i,s,underline,underlinec,stroke,strokec,leading,padding){void 0===f&&(f="Microsoft YaHei"),void 0===c&&(c="#000000"),void 0===b&&(b=0),void 0===i&&(i=0),void 0===s&&(s=-1),void 0===underline&&(underline=0),void 0===underlinec&&(underlinec="#000000"),void 0===stroke&&(stroke=0),void 0===strokec&&(strokec="#000000"),void 0===leading&&(leading=0),void 0===padding&&(padding="0,0,0,0"),this.font=f,this.color=c,this.bold=b,this.italic=i,this.fontSize=s,this.underline=underline,this.underlineColor=underlinec,this.stroke=stroke,this.strokeColor=strokec,this.leading=leading,this.padding=padding};!function(FONTSTYLE_ENUM){FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_DEFAULT=0]="FONT_DEFAULT",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_YELLOW=1]="FONT_YELLOW",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_YELLOWLIGHT=2]="FONT_YELLOWLIGHT",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_GREEN=3]="FONT_GREEN",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_GREENLIGHT=4]="FONT_GREENLIGHT",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_RED=5]="FONT_RED",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_REDDRAK=6]="FONT_REDDRAK",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_REDLIGHT=7]="FONT_REDLIGHT",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_BLUE=8]="FONT_BLUE",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_PINK=9]="FONT_PINK",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_PURPLE=10]="FONT_PURPLE",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_ORANGE=11]="FONT_ORANGE",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_WHTIE=12]="FONT_WHTIE",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_BLACK=13]="FONT_BLACK",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_GRAY=14]="FONT_GRAY",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_HE=15]="FONT_HE",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_BROWN=16]="FONT_BROWN",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_BROWNDARK=17]="FONT_BROWNDARK",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_BTNTAB=18]="FONT_BTNTAB",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_OUTLINE=19]="FONT_OUTLINE",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_BTNBLUE=20]="FONT_BTNBLUE",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_BTNYELLOW=21]="FONT_BTNYELLOW",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_QUALITY_0=22]="FONT_QUALITY_0",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_QUALITY_1=23]="FONT_QUALITY_1",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_QUALITY_2=24]="FONT_QUALITY_2",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_QUALITY_3=25]="FONT_QUALITY_3",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_QUALITY_4=26]="FONT_QUALITY_4",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_QUALITY_5=27]="FONT_QUALITY_5",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_N1=28]="FONT_N1",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_N2=29]="FONT_N2",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_N3=30]="FONT_N3",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_N4=31]="FONT_N4",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_N5=32]="FONT_N5",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_N6=33]="FONT_N6",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_CHAPTERBTN=34]="FONT_CHAPTERBTN",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_CHAPTERHELP=35]="FONT_CHAPTERHELP",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_EQUIPBTN=36]="FONT_EQUIPBTN",FONTSTYLE_ENUM[FONTSTYLE_ENUM.FONT_END=37]="FONT_END"}(FONTSTYLE_ENUM=fontmgr.FONTSTYLE_ENUM||(fontmgr.FONTSTYLE_ENUM={}));var fontstylemgr=function(){function fontstylemgr(){this._stylemap=new Object,this._filtersmap=new Object,this.FONT_NAME="h5font",this._stylemap[FONTSTYLE_ENUM.FONT_DEFAULT]=new TextFormat(this.FONT_NAME,"#bd8651"),this._stylemap[FONTSTYLE_ENUM.FONT_YELLOW]=new TextFormat(this.FONT_NAME,"#ffff00"),this._stylemap[FONTSTYLE_ENUM.FONT_YELLOWLIGHT]=new TextFormat(this.FONT_NAME,"#fffbb5"),this._stylemap[FONTSTYLE_ENUM.FONT_GREEN]=new TextFormat(this.FONT_NAME,"#12a710"),this._stylemap[FONTSTYLE_ENUM.FONT_GREENLIGHT]=new TextFormat(this.FONT_NAME,"#00ff1e"),this._stylemap[FONTSTYLE_ENUM.FONT_RED]=new TextFormat(this.FONT_NAME,"#ed3e46"),this._stylemap[FONTSTYLE_ENUM.FONT_REDDRAK]=new TextFormat(this.FONT_NAME,"#a83937"),this._stylemap[FONTSTYLE_ENUM.FONT_REDLIGHT]=new TextFormat(this.FONT_NAME,"#ff2828"),this._stylemap[FONTSTYLE_ENUM.FONT_BLUE]=new TextFormat(this.FONT_NAME,"#11b0e5"),this._stylemap[FONTSTYLE_ENUM.FONT_PINK]=new TextFormat(this.FONT_NAME,"#ffbfd0"),this._stylemap[FONTSTYLE_ENUM.FONT_PURPLE]=new TextFormat(this.FONT_NAME,"#c63eed"),this._stylemap[FONTSTYLE_ENUM.FONT_ORANGE]=new TextFormat(this.FONT_NAME,"#f29e07"),this._stylemap[FONTSTYLE_ENUM.FONT_WHTIE]=new TextFormat(this.FONT_NAME,"#ffffff"),this._stylemap[FONTSTYLE_ENUM.FONT_BLACK]=new TextFormat(this.FONT_NAME,"#000000"),this._stylemap[FONTSTYLE_ENUM.FONT_GRAY]=new TextFormat(this.FONT_NAME,"#a29d9a"),this._stylemap[FONTSTYLE_ENUM.FONT_HE]=new TextFormat(this.FONT_NAME,"#6d4b46"),this._stylemap[FONTSTYLE_ENUM.FONT_BTNTAB]=new TextFormat(this.FONT_NAME,"#aa7365"),this._stylemap[FONTSTYLE_ENUM.FONT_BROWN]=new TextFormat(this.FONT_NAME,"#894c39"),this._stylemap[FONTSTYLE_ENUM.FONT_BROWNDARK]=new TextFormat(this.FONT_NAME,"#6e4b47"),this._stylemap[FONTSTYLE_ENUM.FONT_OUTLINE]=new TextFormat(this.FONT_NAME,"#ffffff",0,0,-1,0,"#000000",3,"#000000"),this._stylemap[FONTSTYLE_ENUM.FONT_BTNBLUE]=new TextFormat(this.FONT_NAME,"#ffffff",0,0,-1,0,"#000000",3,"#005982"),this._stylemap[FONTSTYLE_ENUM.FONT_BTNYELLOW]=new TextFormat(this.FONT_NAME,"#ffffff",0,0,-1,0,"#000000",3,"#eb6100"),this._stylemap[FONTSTYLE_ENUM.FONT_QUALITY_0]=new TextFormat(this.FONT_NAME,"#a29d9a"),this._stylemap[FONTSTYLE_ENUM.FONT_QUALITY_1]=new TextFormat(this.FONT_NAME,"#38bd61"),this._stylemap[FONTSTYLE_ENUM.FONT_QUALITY_2]=new TextFormat(this.FONT_NAME,"#11b0e5"),this._stylemap[FONTSTYLE_ENUM.FONT_QUALITY_3]=new TextFormat(this.FONT_NAME,"#c63eed"),this._stylemap[FONTSTYLE_ENUM.FONT_QUALITY_4]=new TextFormat(this.FONT_NAME,"#f29e07"),this._stylemap[FONTSTYLE_ENUM.FONT_QUALITY_5]=new TextFormat(this.FONT_NAME,"#ed3e46"),this._stylemap[FONTSTYLE_ENUM.FONT_N1]=new TextFormat("SimSun","#f1f1f1"),this._filtersmap[FONTSTYLE_ENUM.FONT_N1]=[new Laya.GlowFilter("#000105",3,3,3)],this._stylemap[FONTSTYLE_ENUM.FONT_N2]=new TextFormat("SimSun","#ff4e00"),this._filtersmap[FONTSTYLE_ENUM.FONT_N2]=[new Laya.GlowFilter("#000105",3,3,3)],this._stylemap[FONTSTYLE_ENUM.FONT_N3]=new TextFormat("SimSun","#ff0000"),this._filtersmap[FONTSTYLE_ENUM.FONT_N3]=[new Laya.GlowFilter("#000105",3,3,3)],this._stylemap[FONTSTYLE_ENUM.FONT_N4]=new TextFormat("SimSun","#ffd600"),this._filtersmap[FONTSTYLE_ENUM.FONT_N4]=[new Laya.GlowFilter("#000105",3,3,3)],this._stylemap[FONTSTYLE_ENUM.FONT_N5]=new TextFormat("SimSun","#2aff00"),this._filtersmap[FONTSTYLE_ENUM.FONT_N5]=[new Laya.GlowFilter("#000105",3,3,3)],this._stylemap[FONTSTYLE_ENUM.FONT_N6]=new TextFormat("SimSun","#aeff00"),this._filtersmap[FONTSTYLE_ENUM.FONT_N6]=[new Laya.GlowFilter("#186400",3,3,3)],this._stylemap[FONTSTYLE_ENUM.FONT_CHAPTERBTN]=new TextFormat(this.FONT_NAME,"#f8bc74",0,0,-1,0,"",5,"#a56b51"),this._stylemap[FONTSTYLE_ENUM.FONT_CHAPTERHELP]=new TextFormat(this.FONT_NAME,"#38bd61",0,0,-1,1,"#38bd61"),this._stylemap[FONTSTYLE_ENUM.FONT_EQUIPBTN]=new TextFormat(this.FONT_NAME,"#12a710",0,0,-1,1,"#12a710")}return fontstylemgr.prototype.getstylebyid=function(id){return this._stylemap[id]},fontstylemgr.prototype.getfiltersbyid=function(id){return this._filtersmap[id]},fontstylemgr.prototype.getstylefont=function(id){return this._stylemap[id].font},fontstylemgr.prototype.set_htmldiv=function(l,id,font_size){void 0===font_size&&(font_size=-1);var fs=this.getstylebyid(id);if(null==fs||null==fs)return core.game_tiplog("fontstylemgr error id! ",id),!1;l.style.color=fs.color,l.style.bold=0!=fs.bold,l.style.italic=0!=fs.italic,-1==font_size&&(font_size=fs.fontSize),-1==font_size&&(font_size=50),l.style.font=font_size+"px "+this.FONT_NAME,0!=fs.underline?l.style.underLine=1:l.style.underLine=0,l.style.leading=fs.leading,l.style.stroke=fs.stroke,l.style.strokeColor=fs.strokeColor;var filters=this.getfiltersbyid(id);return null!=filters&&null!=filters&&(l.filters=filters),!0},fontstylemgr.prototype.set_lable=function(l,id,font_size){void 0===font_size&&(font_size=-1);var fs=this.getstylebyid(id);if(null==fs||null==fs)return core.game_tiplog("fontstylemgr error id! ",id),!1;l.font=fs.font,l.color=fs.color,l.bold=0!=fs.bold,l.italic=0!=fs.italic,-1==font_size&&(font_size=fs.fontSize),-1!=font_size&&(l.fontSize=font_size),0!=fs.underline?(l.underline=!0,l.underlineColor=fs.underlineColor):l.underline=!1,l.stroke=fs.stroke,l.strokeColor=fs.strokeColor,l.leading=fs.leading,l.padding=fs.padding;var filters=this.getfiltersbyid(id);return null!=filters&&null!=filters&&(l.filters=filters),!0},fontstylemgr.prototype.set_button=function(l,id,font_size){void 0===font_size&&(font_size=-1);var fs=this.getstylebyid(id);if(null==fs||null==fs)return core.game_tiplog("fontstylemgr error id! ",id),!1;if(l.labelFont=fs.font,l.labelColors=fs.color,l.labelBold=0!=fs.bold,fs.color){var tmpColors=void 0;-1!=fs.color.indexOf(",")?l.labelColors=fs.color:(tmpColors=[fs.color,fs.color,fs.color,"#AAAAAA"],l.labelColors=tmpColors.join(","))}if(fs.strokeColor){tmpColors=void 0;-1!=fs.strokeColor.indexOf(",")?l.strokeColors=fs.strokeColor:(tmpColors=[fs.strokeColor,fs.strokeColor,fs.strokeColor,"#AAAAAA"],l.strokeColors=tmpColors.join(","))}l.labelStroke=fs.stroke,-1==font_size&&(font_size=fs.fontSize),-1!=font_size&&(l.labelSize=font_size),l.labelPadding=fs.padding;var filters=this.getfiltersbyid(id);return null!=filters&&null!=filters&&(l.text.filters=filters),!0},fontstylemgr.prototype.set_textinput=function(l,id,font_size){void 0===font_size&&(font_size=-1);var fs=this.getstylebyid(id);return null==fs||null==fs?(core.game_tiplog("fontstylemgr error id! ",id),!1):this.set_lable(l,id,font_size)},fontstylemgr.prototype.registerfont=function(arr){Laya.Browser.window.conch&&Laya.Browser.window.conch.setFontFaceFromBuffer(this.FONT_NAME,arr)},fontstylemgr}(),g_ins=null;function ins(){return null==g_ins&&(g_ins=new fontstylemgr),g_ins}function set_htmldiv(l,id,font_size){return void 0===font_size&&(font_size=-1),ins().set_htmldiv(l,id,font_size)}function set_lable(l,id,font_size){return void 0===font_size&&(font_size=-1),ins().set_lable(l,id,font_size)}function set_button(l,id,font_size){return void 0===font_size&&(font_size=-1),ins().set_button(l,id,font_size)}function set_textinput(l,id,font_size){return void 0===font_size&&(font_size=-1),ins().set_textinput(l,id,font_size)}fontmgr.registerfont=function(arr){return ins().registerfont(arr)},fontmgr.getstylefont=function(id){return ins().getstylefont(id)},fontmgr.set_htmldiv=set_htmldiv,fontmgr.set_lable=set_lable,fontmgr.set_button=set_button,fontmgr.set_textinput=set_textinput,fontmgr.set_ui_style=function set_ui_style(ui,id,font_size){void 0===font_size&&(font_size=-1);for(var i=0;i<ui.numChildren;++i){var comp=ui.getChildAt(i);comp instanceof Laya.TextInput?set_textinput(comp,id,font_size):comp instanceof Laya.HTMLDivElement?set_htmldiv(comp,id,font_size):comp instanceof Laya.Label?set_lable(comp,id,font_size):comp instanceof Laya.Button?set_button(comp,id,font_size):comp instanceof Laya.Node&&set_ui_style(comp,id,font_size)}return!0},fontmgr.set_ui_font=function set_ui_font(ui){for(var i=0;i<ui.numChildren;++i){var comp=ui.getChildAt(i);comp instanceof Laya.TextInput?comp.font=ins().FONT_NAME:comp instanceof Laya.Label?comp.font=ins().FONT_NAME:comp instanceof Laya.Button?comp.labelFont=ins().FONT_NAME:comp instanceof Laya.Node&&set_ui_font(comp)}}}(fontmgr||(fontmgr={})),function(frametask){function task_comp(a,b){return a.m_weight>b.m_weight?1:0}var task=function(){function task(c,f,weight,id){this.m_caller=null,this.m_func=null,this.m_max_weight=0,this.m_id=0,this.m_weight=0,this.m_caller=c,this.m_func=f,this.m_max_weight=weight,this.m_weight=this.m_max_weight,this.m_id=id}return task.prototype.run=function(delta){0<this.m_weight&&delta<0?this.m_weight-=1:(this.m_func.apply(this.m_caller),this.m_weight=this.m_max_weight)},task}(),task_mgr=function(){function task_mgr(){this.m_tlist=new Array,this.m_task_count=0}return task_mgr.prototype.sort=function(){this.m_tlist.sort(task_comp)},task_mgr.prototype.run=function(delta){var cur_time,start_time=laya.utils.Browser.now();this.sort();for(var _i=0,_a=this.m_tlist;_i<_a.length;_i++){var i=_a[_i];delta=delta+start_time-(cur_time=laya.utils.Browser.now()),start_time=cur_time,i.run(delta)}},task_mgr.prototype.add_task=function(caller,call_func,weight){void 0===weight&&(weight=1),this.del_task(caller,call_func),this.m_tlist.push(new task(caller,call_func,weight,this.m_task_count)),this.m_task_count+=1},task_mgr.prototype.del_task=function(caller,call_func){for(var i=this.m_tlist.length-1;0<=i;--i)this.m_tlist[i].m_caller==caller&&this.m_tlist[i].m_func==call_func&&this.m_tlist.splice(i,1)},task_mgr}(),g_task_ins=null;function ins(){return null==g_task_ins&&(g_task_ins=new task_mgr),g_task_ins}frametask.add_task=function(caller,call_func,weight){void 0===weight&&(weight=1),ins().add_task(caller,call_func,weight)},frametask.del_task=function(caller,call_func){ins().del_task(caller,call_func)},frametask.run=function(delta){ins().run(delta)}}(frametask||(frametask={})),function(fsm){var fsm_state_base=function(){function fsm_state_base(){this.m_start_id=0,this.m_event_id=0,this.m_end_id=0,this.m_desc="unknown state",this.m_caller=null,this.m_func=null}return fsm_state_base.prototype.re_init=function(sid,e,eid,desc,caller,func){this.m_start_id=sid,this.m_event_id=e,this.m_end_id=eid,this.m_desc=desc,this.m_caller=caller,this.m_func=func},fsm_state_base.prototype.dispose=function(){this.m_caller=null,this.m_func=null},fsm_state_base}();fsm.fsm_state_base=fsm_state_base;var fsm_base=function(){function fsm_base(){this.m_cur_state=0,this.m_fsm_group=new Object}return fsm_base.prototype._genkey=function(sid,e){return 1e4*sid+e},fsm_base.prototype.set_state=function(sid,e,eid,desc,caller,func){var key=this._genkey(sid,e),new_state=utils.getitembycls("fsm_state_base",fsm_state_base);new_state.re_init(sid,e,eid,desc,caller,func),this.m_fsm_group[key]=new_state},fsm_base.prototype.clear_state=function(){for(var _i=0,_a=Object.keys(this.m_fsm_group);_i<_a.length;_i++){var key=_a[_i];if(this.m_fsm_group.hasOwnProperty(key)){var s=this.m_fsm_group[parseInt(key)];utils.recover("fsm_state_base",s)}}this.m_fsm_group=new Object,this.m_cur_state=0},fsm_base.prototype.start=function(sid){this.m_cur_state=sid},fsm_base.prototype.next=function(e){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];for(var key=this._genkey(this.m_cur_state,e),state=this.m_fsm_group[key];null!=state;){var next_state=state.m_end_id,ret=!0;return null!=state.m_func&&(ret=state.m_func.apply(this,args)),ret&&(this.m_cur_state=next_state),this.m_cur_state}return-1},fsm_base.prototype.dispose=function(){this.clear_state()},fsm_base}();fsm.fsm_base=fsm_base}(fsm||(fsm={})),function(base){!function(HYPERLINK_TYPE){HYPERLINK_TYPE[HYPERLINK_TYPE.TYPE_CHAPTER_HELP=1]="TYPE_CHAPTER_HELP",HYPERLINK_TYPE[HYPERLINK_TYPE.TYPE_SUMMON_DISPLAY=2]="TYPE_SUMMON_DISPLAY",HYPERLINK_TYPE[HYPERLINK_TYPE.TYPE_WILD_BOSS=3]="TYPE_WILD_BOSS",HYPERLINK_TYPE[HYPERLINK_TYPE.TYPE_GANG_RECRUIT=4]="TYPE_GANG_RECRUIT",HYPERLINK_TYPE[HYPERLINK_TYPE.TYPE_GANG_BOSS=5]="TYPE_GANG_BOSS",HYPERLINK_TYPE[HYPERLINK_TYPE.TYPE_JOIN_TEAM=6]="TYPE_JOIN_TEAM",HYPERLINK_TYPE[HYPERLINK_TYPE.TYPE_COMMON_BOSS=7]="TYPE_COMMON_BOSS",HYPERLINK_TYPE[HYPERLINK_TYPE.TYPE_OPEN_GANG_MAP=17]="TYPE_OPEN_GANG_MAP",HYPERLINK_TYPE[HYPERLINK_TYPE.TYPE_OPEN_PLAYER_INFO=18]="TYPE_OPEN_PLAYER_INFO"}(base.HYPERLINK_TYPE||(base.HYPERLINK_TYPE={}))}(base||(base={}));var icon_mgr,game_lang,game,base,timer;__extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();!function(icon_mgr){var icon_bitmap=function(_super){function icon_bitmap(){var _this=_super.call(this)||this;return _this.m_ref_count=0,_this.m_icon_path="",_this.m_b_loaded=!1,_this.m_b_loading=!1,_this.m_owner=null,_this.m_id=0,_this}return __extends(icon_bitmap,_super),icon_bitmap.prototype.addref=function(){this.m_ref_count+=1},icon_bitmap.prototype.loadres=function(){this.m_b_loaded||(this.m_b_loading=!0,this.loadImage(this.m_icon_path,0,0,0,0,Laya.Handler.create(this,this.on_loaded)))},icon_bitmap.prototype.on_loaded=function(ud){void 0===ud&&(ud=null),this.m_b_loading=!1,this.m_b_loaded=!0},icon_bitmap.prototype.delref=function(){this.m_ref_count-=1},icon_bitmap.prototype.can_release=function(){return!this.m_b_loading&&!(0<this.m_ref_count)},icon_bitmap.prototype.dispose=function(){this.m_owner.recover_iconbm(this)},icon_bitmap}(Laya.Sprite),icon_sub_set=function(){function icon_sub_set(){this.m_atlas_path="",this.m_prefix="",this.m_b_loaded=!1,this.m_b_loading=!1,this.m_loaderrorcount=0,this.m_start_id=0,this.m_end_id=0,this.m_iconbm_idle=new Object,this.m_iconbm_used=new Object,this.m_idle_num=0,this.m_used_num=0}return icon_sub_set.prototype.has_id=function(id){return id>=this.m_start_id&&id<=this.m_end_id},icon_sub_set.prototype.get_icon=function(id){if(0==this.has_id(id))return null;var ret=null,arr=null;if(this.m_iconbm_idle.hasOwnProperty(id.toString())&&(0<(arr=this.m_iconbm_idle[id]).length&&(ret=arr.shift()),arr.length<=0&&(delete this.m_iconbm_idle[id],this.m_idle_num-=1)),null==ret){(ret=new icon_bitmap).m_id=id,ret.m_owner=this;var filename=id.toString();ret.m_icon_path=this.m_prefix+filename+".png"}return 0==this.m_iconbm_used.hasOwnProperty(id.toString())&&(this.m_iconbm_used[id]=new Array,this.m_used_num+=1),this.m_iconbm_used[id].push(ret),this.m_b_loaded?0==ret.m_b_loaded&&ret.loadres():this.m_b_loading||this.loadres(),ret},icon_sub_set.prototype.loadres=function(){this.m_b_loaded||(this.m_b_loading=!0,Laya.loader.on(Laya.Event.ERROR,this,this.on_error),core.myload(this.m_atlas_path,Laya.Handler.create(this,this.on_loaded),null,Laya.Loader.ATLAS,2))},icon_sub_set.prototype.on_error=function(ud){void 0===ud&&(ud=null),Laya.loader.off(Laya.Event.ERROR,this,this.on_error),this.m_loaderrorcount+=1,this.m_b_loaded=!1,this.m_b_loading=!1},icon_sub_set.prototype.on_loaded=function(ud){void 0===ud&&(ud=null),Laya.loader.off(Laya.Event.ERROR,this,this.on_error),this.m_b_loaded=!0,this.m_b_loading=!1;for(var _i=0,_a=Object.keys(this.m_iconbm_used);_i<_a.length;_i++){var key=_a[_i];if(this.m_iconbm_used.hasOwnProperty(key))for(var arr=this.m_iconbm_used[parseInt(key)],i=arr.length-1;0<=i;--i){var iconbm=arr[i];0<iconbm.m_ref_count&&0==iconbm.m_b_loaded&&iconbm.loadres()}}},icon_sub_set.prototype.recover_iconbm=function(bm){var id=bm.m_id,arr=null;this.m_iconbm_used.hasOwnProperty(id.toString())?arr=this.m_iconbm_used[id]:core.game_tiplog("icon sub set recover iconbm error!the used array of specify id is not exist! ",id);for(var b_removed=!1,i=arr.length-1;0<=i;--i)if(arr[i]==bm){arr.splice(i,1),b_removed=!0,arr.length<=0&&(delete this.m_iconbm_used[id],this.m_used_num-=1);break}b_removed||core.game_tiplog("icon sub set recover iconbm error!the used array of specify id has not this icon_bitmap! ",id),0==this.m_iconbm_idle.hasOwnProperty(id.toString())&&(this.m_iconbm_idle[id]=new Array,this.m_idle_num+=1);for(var _i=0,arr_1=arr=this.m_iconbm_idle[id];_i<arr_1.length;_i++){if((i=arr_1[_i])==bm)return void core.game_tiplog("icon sub set recover iconbm error!the idle array of specify id already has this icon_bitmap! ",id)}arr.push(bm)},icon_sub_set.prototype.check_release=function(){for(var _i=0,_a=Object.keys(this.m_iconbm_idle);_i<_a.length;_i++){var key=_a[_i];if(this.m_iconbm_idle.hasOwnProperty(key)){for(var arr=this.m_iconbm_idle[parseInt(key)],i=arr.length-1;0<=i;--i){var iconbm=arr[i];iconbm.can_release()&&(iconbm.m_owner=null,iconbm.destroy(),arr.splice(i,1))}arr.length<=0&&(delete this.m_iconbm_idle[parseInt(key)],this.m_idle_num-=1)}}this.m_b_loaded&&0==this.m_idle_num&&0==this.m_used_num&&(Laya.loader.clearRes(this.m_atlas_path,!0),this.m_b_loaded=!1,core.game_tiplog("icon sub set check_release release atlas res! ",this.m_atlas_path))},icon_sub_set.prototype.dispose=function(){},icon_sub_set}(),icon_set=function(){function icon_set(){this.m_sub_list=new Array}return icon_set.prototype.get_set_by_id=function(id){for(var _i=0,_a=this.m_sub_list;_i<_a.length;_i++){var i=_a[_i];if(i.has_id(id))return i}return null},icon_set.prototype.add_set=function(start_id,end_id,atlas,prefix){var new_set=new icon_sub_set;return new_set.m_start_id=start_id,new_set.m_end_id=end_id,new_set.m_atlas_path=atlas,new_set.m_prefix=prefix,this.m_sub_list.push(new_set),!0},icon_set.prototype.get_icon=function(id){var ret=null,set=this.get_set_by_id(id);return null!=set&&(ret=set.get_icon(id)),ret},icon_set.prototype.check_release=function(){for(var _i=0,_a=this.m_sub_list;_i<_a.length;_i++){_a[_i].check_release()}},icon_set.prototype.dispose=function(){},icon_set}(),icon_obj=function(_super){function icon_obj(){var _this=_super.call(this)||this;return _this.m_bitmap=null,_this.m_iconmgr=null,_this}return __extends(icon_obj,_super),icon_obj.prototype.set_bitmap=function(bm,imgr){null!=imgr&&(this.m_iconmgr=imgr,this._clear_bitmap(),this.m_bitmap=bm,null!=this.m_bitmap&&(this.m_bitmap.addref(),this.addChild(this.m_bitmap)))},icon_obj.prototype.addref=function(){null!=this.m_bitmap&&this.m_bitmap.addref()},icon_obj.prototype.delref=function(){null!=this.m_bitmap&&this.m_bitmap.delref()},icon_obj.prototype._clear_bitmap=function(){null!=this.m_bitmap&&(this.removeChild(this.m_bitmap),this.m_bitmap.delref(),this.m_bitmap.dispose(),this.m_bitmap=null)},icon_obj.prototype.dispose=function(){this._clear_bitmap(),null!=this.m_iconmgr&&(this.m_iconmgr=null)},icon_obj}(Laya.Sprite);icon_mgr.icon_obj=icon_obj;var iconmgr=function(){function iconmgr(){this.m_item_set=new icon_set,this.m_buff_set=new icon_set,this.m_head_set=new icon_set,this.m_skill_set=new icon_set,this.m_other_set=new icon_set,this.m_b_inited=!1}return iconmgr.prototype.init_set_config=function(cfg,set){for(var _i=0,cfg_1=cfg;_i<cfg_1.length;_i++){var i=cfg_1[_i],filepath=i.file,prefix=i.prefix,start=parseInt(i.start),end=parseInt(i.end);set.add_set(start,end,filepath,prefix)}},iconmgr.prototype.init_config=function(func){if(!this.m_b_inited){this.m_b_inited=!0;var cfg=null;return cfg=func("item"),this.init_set_config(cfg.data,this.m_item_set),cfg=func("buff"),this.init_set_config(cfg.data,this.m_buff_set),cfg=func("head"),this.init_set_config(cfg.data,this.m_head_set),cfg=func("skill"),this.init_set_config(cfg.data,this.m_skill_set),cfg=func("other"),this.init_set_config(cfg.data,this.m_other_set),!0}},iconmgr.prototype.get_item=function(id){var ret=utils.getitembycls("icon_obj",icon_obj),bm=this.m_item_set.get_icon(id);return ret.set_bitmap(bm,this),ret},iconmgr.prototype.get_buff=function(id){var ret=utils.getitembycls("icon_obj",icon_obj),bm=this.m_buff_set.get_icon(id);return ret.set_bitmap(bm,this),ret},iconmgr.prototype.get_head=function(id){var ret=utils.getitembycls("icon_obj",icon_obj),bm=this.m_head_set.get_icon(id);return ret.set_bitmap(bm,this),ret},iconmgr.prototype.get_skill=function(id){var ret=utils.getitembycls("icon_obj",icon_obj),bm=this.m_skill_set.get_icon(id);return ret.set_bitmap(bm,this),ret},iconmgr.prototype.get_other=function(id){var ret=utils.getitembycls("icon_obj",icon_obj),bm=this.m_other_set.get_icon(id);return ret.set_bitmap(bm,this),ret},iconmgr.prototype.check_release=function(){this.m_item_set.check_release(),this.m_head_set.check_release(),this.m_buff_set.check_release(),this.m_skill_set.check_release(),this.m_other_set.check_release()},iconmgr.prototype.recover_icon=function(item){utils.recover("icon_obj",item)},iconmgr.prototype.dispose=function(){},iconmgr}(),g_iconmgr=null;function icon_ins(){return null==g_iconmgr&&(g_iconmgr=new iconmgr),g_iconmgr}function fastset_icon(tp,id,grid,b_small){if(void 0===b_small&&(b_small=!0),null==grid)return null;var icon=null;switch(tp){case 0:icon=icon_ins().get_item(id);break;case 1:icon=icon_ins().get_buff(id);break;case 2:icon=icon_ins().get_head(id);break;case 3:icon=icon_ins().get_skill(id);break;case 4:icon=icon_ins().get_other(id);break;default:return null}icon.name="this_is_iconmgr_gen_icon";var rate=1;return b_small&&(rate=.5),icon.scale(rate,rate,!0),grid.addChild(icon),icon}function fastdel_icon(grid){if(null!=grid){var icon=grid.getChildByName("this_is_iconmgr_gen_icon");null!=icon&&(grid.removeChild(icon),icon.dispose())}}icon_mgr.icon_ins=icon_ins,icon_mgr.fastset_item_icon=function(id,grid,caller,b_small){return void 0===b_small&&(b_small=!1),fastdel_icon(grid),fastset_icon(0,id,grid,b_small)},icon_mgr.fastset_buff_icon=function(id,grid,caller,b_small){return void 0===b_small&&(b_small=!1),fastdel_icon(grid),fastset_icon(1,id,grid,b_small)},icon_mgr.fastset_head_icon=function(id,grid,caller,b_small){return void 0===b_small&&(b_small=!1),fastdel_icon(grid),fastset_icon(2,id,grid,b_small)},icon_mgr.fastset_skill_icon=function(id,grid,caller,b_small){return void 0===b_small&&(b_small=!1),fastdel_icon(grid),fastset_icon(3,id,grid,b_small)},icon_mgr.fastset_other_icon=function(id,grid,caller,b_small){return void 0===b_small&&(b_small=!1),fastdel_icon(grid),fastset_icon(4,id,grid,b_small)},icon_mgr.get_item=function(id){return icon_ins().get_item(id)},icon_mgr.get_buff=function(id){return icon_ins().get_buff(id)},icon_mgr.get_head=function(id){return icon_ins().get_head(id)},icon_mgr.get_skill=function(id){return icon_ins().get_skill(id)},icon_mgr.get_other=function(id){return icon_ins().get_other(id)},icon_mgr.fastdel_icon=fastdel_icon,icon_mgr.init_icon_config=function(cfg_func){icon_ins().init_config(cfg_func)},icon_mgr.check_release=function(){icon_ins().check_release()}}(icon_mgr||(icon_mgr={})),function(base){var Item=function(){function Item(){this.m_id=0,this.m_shape=0,this.m_name="",this.m_type=0,this.m_quality=0,this.m_amount=0,this.m_lv=0,this.m_icon=0,this.m_rim=0,this.m_desc="",this.m_pos=0,this.m_score=0,this.m_prop_arr=[],this.m_use=0,this.m_b_own=!1,this.m_cps_num=0,this.m_add_lv=0,this.m_add_prop_arr=[],this.m_jlv=0}return Item.prototype.dispose=function(){},Item}();base.Item=Item;var Qiling=function(){this.m_lv=0,this.m_pos=0,this.m_battle=0,this.m_jp_prop=[]};base.Qiling=Qiling}(base||(base={})),function(game_lang){game_lang.L_LOADING_TIPS_MAP={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:"",11:"",12:"",13:"",14:"",15:"",16:"BB",17:""}}(game_lang||(game_lang={})),function(game){game.PROP_MAP={128:"",129:"",130:"",131:"",132:"",133:"",134:"",135:"",144:"",145:"",146:"",147:"",148:"",149:"",150:"PVP",151:"PVP",152:"PVE",153:"PVE",176:""},game.PROP_KEY_MAP={hp:"",atk:"",def:"",spd:"",cri:"",res:"",hit:"",dod:"",dura:"",armor:"",stam:""},game.L_SHIJIE="",game.L_BANGPAI="",game.L_XITONG="",game.L_KUAFU="",game.L_YEAR="",game.L_MONTH="",game.L_DAY="",game.L_TIAN="",game.L_XIAOSHI="",game.L_SHI="",game.L_FEN="",game.L_MIAO="",game.L_WAN="",game.L_YI="",game.L_GUAN="",game.L_WU="",game.L_REN="",game.L_JINRU="",game.L_JIBAI="",game.L_JIANGLI="",game.L_HUODELE="",game.L_VIP="VIP",game.L_MONTHCARD="",game.L_FOREVERCARD="",game.L_JI="",game.L_NAN="",game.L_NV="",game.L_DI="",game.L_MING="",game.L_LV="Lv.",game.L_SCORE=": ",game.L_DADAO="",game.L_JIE="",game.L_KELINGQU="",game.L_PINGFEN="",game.L_BUWEI="",game.L_DENGJI="",game.L_CSBZ="",game.L_EXP="",game.L_TEQUAN="",game.L_SHOUCHONG="",game.L_TEMAI="",game.L_MORE="",game.L_DANG="",game.L_NEED="",game.L_NODATA="",game.L_NICHENG="",game.L_ZHANLI="",game.L_RENSHU="",game.L_WIN="",game.L_LOSE="",game.L_SHENGLV="",game.L_YBSLBZ="",game.L_BDYBSLBZ="",game.L_YZSLBZ="",game.L_COSTGOLDTIPS="",game.L_YBBZ="",game.L_LVMAX="",game.L_LVMAX2="",game.L_UNLEARNED="",game.L_ZANWEIKAIFANG="",game.L_WANCHENG="",game.L_WEIWANCHENG="",game.L_WEIJIHUO="",game.L_JIHUO="",game.L_WSUCCESS="",game.L_WFAIL="",game.L_BANGGONG="",game.L_ZAIXIAN="",game.L_LIXIAN="",game.L_LIXIANSHIJIAN="",game.L_LNONE="",game.L_DENGJIBUZU="",game.L_SHOUYICISHUBUZU="",game.L_SHIFOUTUICHUDUIWU="",game.L_ZHENGZAIQITADUIWUZHZONG="",game.L_YIJINGZAIDUIWUZHONG="",game.L_KUOHAOWU="",game.L_WAITINGPLEASE="",game.L_BUKEQIUZHU="",game.L_NOBUYGROWUP="",game.L_YBSLBZGOBUY="",game.L_TOMORROWGET="",game.L_HAVEBUY="",game.L_CROSSSERVERBAN="",game.L_WARBAN="",game.L_SENDOK="",game.L_WAIT="",game.BTNLABELQL="   ",game.BTNLABELYQL="",game.BTNLABELQWJS="",game.TABBTNSTRINGZB=" ",game.TABBTNSTRINGJN=" ",game.TABBTNSTRINGZQ=" ",game.TABBTNSTRINGYY=" ",game.TABBTNSTRINGSJ=" ",game.TABBTNSTRINGDS=" ",game.TABBTNSTRINGGH=" ",game.TABBTNSTRINGSL=" ",game.TABBTNSTRINGXL=" ",game.TABBTNSTRINGSX=" ",game.TABBTNSTRINGXW=" ",game.TABBTNSTRINGXZ=" ",game.TABBTNSTRINGGW=" ",game.TABBTNSTRINGJL=" ",game.TABBTNSTRINGDY=" ",game.TABBTNSTRINGJM=" ",game.BTNSHENQING="  ",game.BTNTONGGUO="  ",game.BTNJUJUE="  ",game.BTNTICHU="  ",game.BTNSHEZHIZHIWEI="",game.BTNSHENGJI="  ",game.BTNZIDONGSHENGJI="",game.BTNZIDONGSHENGJI2="",game.BTNQUXIAOZIDONG="",game.BTNJIHUO="  ",game.BTNHUANHUA="  ",game.BTNTUPO="  ",game.L_BTNQIANWANG="  ",game.L_BTNSHIYONG="  ",game.L_BTNHECHENG="  ",game.L_BTNZHANSHI="",game.L_DEFAULT_SIGN="",game.L_SHENGYU="",game.L_CI="",game.L_QUEDING="",game.L_XIUXI="",game.L_CANZHAN="",game.L_SHENGYUSHIJIAN="",game.L_WEIKAIQI="",game.L_JICHUSHUXING="",game.L_FUJIASHUXING="",game.L_SHULIANG="",game.L_SHULIANGBUZU="",game.L_YOUJIAN="",game.L_HAOYOU="",game.L_GEXINGQIANMING="",game.L_BANGDINGYUANBAO="",game.L_BAGNOTENOUGH="",game.L_RONGLIANVIP8="VIP8",game.L_CHAPTER0="",game.L_CHAPTER1="",game.L_CHAPTER2="30",game.L_CHAPTER3="",game.L_CHAPTER4="",game.L_MAIN0="",game.L_MAIN1="",game.L_LOGIN0="",game.L_LOGIN1="",game.L_LOGIN2="",game.L_WACCOUNT0="",game.L_WCHANGENAME0="",game.L_WCHANGENAME1="",game.L_WCHANGENAME2="200",game.L_WCHANGENAME3="",game.L_WCHANGENAME4="",game.L_WCHANGENAME5="4",game.L_WCHAPTERBTN0="",game.L_WCHAPTERBTN1="\n",game.L_WCHAPTERMAIN0="",game.L_WCHAPTERMAIN1="",game.L_WCHAPTERMAIN2="BOSS",game.L_WCOMMONBOSS0="",game.L_WCOMMONBOSS1="",game.L_WCOMMONBOSS2="",game.L_WCOMMONBOSS3="",game.L_WCOMMONBOSS4="",game.L_SFHF="",game.L_BYWC="",game.L_BYZH="",game.L_HRW="",game.L_SY="",game.L_JX="",game.L_WDAILY300_0="",game.L_WDAILY300_1="",game.L_WDAILY300_3="VIP6",game.L_WDAILY300_4="",game.L_WDAILY300_7="100",game.L_WDAILY300_8="200",game.L_WDAILY300_9="300",game.L_WDAILYFUMO0="",game.L_WDAILYFUMO2="",game.L_WDAILYFUMO6="",game.L_WMAIN0="",game.L_WMAIN1="",game.L_WMAINEQUIPUI0="id",game.L_WMAINSKILLUI0="",game.L_WMAINSKILLUI1="",game.L_WMAINSKILLUI2="",game.L_WMAINSKILLUI3="",game.L_WMAINSKILLUI4="",game.L_WMAINSKILLUI5="",game.L_WMAINSKILLUI6="",game.L_WMAINSKILLUI7=" ",game.L_WMAINSKILLUI8="",game.L_WMAINSKILLUI9="",game.L_WMAINSKILLUI10="",game.L_WMAINSKILLUI11="",game.L_WMAINSKILLUI12="1",game.L_WMAINSKILLUI13="",game.L_WZJN="",game.L_YGWPZJN="",game.L_WARENA0="",game.L_WARENA1="",game.L_WARENA2="",game.L_WARENA3="",game.L_WARENA4="",game.L_WOFFLINEINCOME0="",game.L_WOFFLINEINCOME1="6",game.L_WOFFLINEINCOME2="<span color='#12a710'>",game.L_WOFFLINEINCOME3="</span>",game.L_WGERENBOSS0="",game.L_WGERENBOSS1="0",game.L_WGERENBOSS2="1",game.L_WGERENBOSS3="",game.L_WPURCHASEPAGE0="",game.L_WPURCHASEPAGE1="",game.L_WRANK0="",game.L_WRANK1="",game.L_WRONGLIAN0="",game.L_WSHOP0="",game.L_WSHOP1="",game.L_WSHOP2="",game.L_WSHOP3="",game.L_WSUMMONCATCHING0="",game.L_WSUMMONCATCHING1="",game.L_WSUMMONCATCHING2="",game.L_WSUMMONCATCHING3="",game.L_WSUMMONCATCHING4="?",game.L_WSUMMONCATCHING5="",game.L_WSUMMONCATCHING6="",game.L_WSUMMONCATCHING7="",game.L_WSUMMONCATCHING8="#D&#C18&#D&",game.L_WSUMMONCATCHING9="#D&#C20&#D&",game.L_WSUMMONCATCHING10="",game.L_WESCORT0="",game.L_WESCORT1="",game.L_WESCORT2="",game.L_WESCORT3="",game.L_WESCORT4="",game.L_WESCORT5="",game.L_WESCORT6="",game.L_WESCORT7="",game.L_WESCORT8="300",game.L_WESCORT9="",game.L_WESCORT10="",game.L_WESCORT11="",game.L_WESCORT12="",game.L_WESCORT13="1",game.L_WESCORT14="500",game.L_WESCORT15="500",game.L_WESCORT16="<br/>1100~13:00<br/>23:00~01:00",game.L_WESCORT17="",game.L_WESCORT18="",game.L_WESCORTCAR0="",game.L_WESCORTCAR1="",game.L_WESCORTCAR2="",game.L_WESCORTCAR3="",game.L_WESCORTCAR4="",game.L_WFIRST0=" (100~119)",game.L_WFIRST1=" (120~139)",game.L_WFIRST2=" (140~159)",game.L_WFIRST3=" (160~179)",game.L_WFIRST4=" (180~200)",game.L_WFIRSTEND0="",game.L_WFIRSTEND1="",game.L_WFIRSTEND2="",game.L_WFIRSTEND3="",game.L_WFIRSTEND4="",game.L_WFIRSTPR3="168",game.L_WFIRSTPR4="84",game.L_WFIRSTPR5="",game.L_WFIRSTPR6="",game.L_WFIRST5="",game.L_WFIRST6="",game.L_WFIRSTBET1="",game.L_WFIRSTBET2="",game.L_WFIRSTBET3="",game.L_WFIRSTRR="",game.L_WFIRSTFR="",game.L_WEQUIP0="",game.L_WEQUIP1="",game.L_WEQUIP2="",game.L_WEQUIP3="",game.L_WEQUIP4="",game.L_WEQUIP5="",game.L_WEQUIP6="",game.L_WEQUIP7="",game.L_WEQUIP8="",game.L_WEQUIP9="",game.L_WEQUIP10="",game.L_WEQUIP11="",game.L_WEQUIP12="",game.L_WEQUIP13="",game.L_WEQUIP14="",game.L_WEQUIP15="",game.L_WEQUIP16="",game.L_WEQUIP17="",game.L_WEQUIP18="",game.L_WEQUIP19="",game.L_WEQUIP20="",game.L_WFRIEND0="",game.L_WFRIEND1="!",game.L_WFRIEND2="",game.L_WFRIEND3="",game.L_WFRIEND4="",game.L_WFRIEND5="",game.L_WFRIEND6="",game.L_WFRIEND7="",game.L_WFRIEND8="",game.L_WFRIEND9="",game.L_WFRIEND10="",game.L_WFRIEND11="",game.L_WFRIEND12="",game.L_WFRIEND13="",game.L_WFRIEND14="",game.L_WFRIEND15="",game.L_WFRIEND16="",game.L_WFRIEND17="20 ",game.L_WWORLDMAP0="",game.L_WWORLDMAP1="...",game.L_WWORLDMAP2="<br/><span color='#12a710'>",game.L_WWORLDMAP3="</span>",game.L_WWORLDMAP4="",game.L_NETCLOSE="",game.L_NETERROR="",game.L_COMMON="",game.L_EQUIP_POS_MAP={101:"",102:"",103:"",104:"",105:"",106:"",107:"",108:"",109:"",110:"",111:"",112:"",113:"",114:"",115:"",116:"",117:"",118:"",119:"",120:"",121:"",122:"",123:"",124:"",125:"",126:"",127:"",128:"",129:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",141:"",142:"",159:"",160:"",161:"",162:"",163:"",164:"",165:"",166:"",167:"",168:""},game.SUMMONPROP_TITLE_ARR=["",""],game.PARTNERPROP_TITLE_ARR=[""],game.L_DQCWWJH="",game.L_DQXLWJH="",game.L_LVLESSPLAYER="",game.L_XLZDJDD="",game.L_KJH="",game.L_JINENGGESHENGJI="",game.OPEN_LV_ARR=["2","4","5","7"],game.PROP_TITLE_ARR=["","","","",""],game.L_DEVELOPSKILL1="",game.L_DEVELOPEQUIP1="",game.L_DEVELOPSKILL2="",game.L_DEVELOPEQUIP2="",game.L_DEVELOPSKILL3="",game.L_DEVELOPEQUIP3="",game.L_DEVELOPSKILL4="",game.L_DEVELOPEQUIP4="",game.L_DEVELOPSKILL5="",game.L_DEVELOPEQUIP5="",game.L_DEVELOPSKILL6="",game.L_DEVELOPEQUIP6="",game.L_DEVELOPSKILL7="",game.L_DEVELOPEQUIP7="",game.L_DEVELOPSKILL8="",game.L_DEVELOPEQUIP8="",game.L_DEVELOPSKIN1="",game.L_DEVELOPSKIN2="",game.L_DEVELOPSKIN3="",game.L_DEVELOPSKIN4="",game.L_DEVELOPSKIN5="",game.L_DEVELOPSKIN6="",game.L_WEIKAIFANG="",game.L_WEIDASHU="",game.L_BTNDASHU="    ",game.L_WSUMMONUI0="",game.L_HFYBSX="50",game.L_SFXH="",game.L_CLFB0="",game.L_CLFB1="(,)",game.L_CLFB2="",game.L_CLFB3="",game.L_CLFB4="",game.L_CLFB5="",game.L_YWB0="",game.L_YWB1="",game.L_YWB2="",game.L_YWB3="BOSS",game.L_YWB4="BOSS",game.L_DQMYKBCDFA="",game.L_ZKZG0="",game.L_ZKZG1="",game.L_ZKZG2="",game.L_ZKZG3="",game.L_ZKZG4="",game.L_ZKZG5="",game.L_ZKZG6="",game.L_ZKZG7="",game.L_TREASURE_FB0="",game.L_TREASURE_FB1="",game.L_TREASURE_FB2="",game.L_TREASURE_FB4="",game.L_TREASURE_FB5="",game.L_TREASURE_FB6="",game.L_TREASURE_FB7="",game.L_TREASURE_FB8="",game.L_TREASURE_FB9="",game.L_TREASURE_FB10="",game.L_TREASURE_FB11="",game.L_TREASURE_FB12="",game.L_TREASURE_FB13="",game.L_TREASURE_FB14="",game.L_TOWER_FB0="",game.L_TOWER_FB1="",game.L_TOWER_FB2="",game.L_HEAVEN_FB0="",game.L_HEAVEN_FB1="",game.L_LVUPRWD_KEY_MAP={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:"",11:""},game.L_GANG_INCENSE3="",game.L_GANG_INCENSE4="",game.L_GANG_INCENSE5="",game.L_GANG_INCENSE6="/60",game.L_GANG_INCENSE7="",game.L_GANG_INCENSE8="",game.L_GANG_INCENSE9="   ",game.L_GANG_INCENSE10="",game.L_GANG_INCENSE11="",game.L_GANG_INCENSE12="",game.L_GANG_INCENSE13="",game.L_GANG_ASSISTANT="",game.L_GANG_DEPUTY_ASSISTANT="",game.L_GANG_NORMAL_MEMBER="",game.L_GANG_POSITION_MAP={0:"",1:game.L_GANG_ASSISTANT,2:game.L_GANG_DEPUTY_ASSISTANT,3:game.L_GANG_NORMAL_MEMBER},game.L_GANGNO="",game.L_GANGYES="",game.L_GANGRECORD0="",game.L_GANGRECORD1="",game.L_GANGRECORD2="",game.L_GANGRECORD3="",game.L_GANGRECORD4="",game.L_GANGRECORD5="",game.L_GANGRECORD6="",game.L_GANGRECORD7=" ",game.L_GANGRECORD8="",game.L_GANGRECORD9="",game.L_GANGRECORD10="",game.L_GANGCREATETIPS1="",game.L_GANGCREATETIPS2="",game.L_GANGCREATETIPS3="",game.L_GANGCREATETIPS4="1vip4",game.L_GANGCREATETIPS5="2vip6",game.L_GANGJOINTIPS1="",game.L_GANGJOINTIPS2="52",game.L_GANGTIPS1="",game.L_GANGTIPS2="",game.L_GANGTIPS3="",game.L_GANGTIPS4="",game.L_GANGTIPS5="",game.L_GANGTIPS6="",game.L_GANGTIPS7="",game.L_GANGTIPS8="",game.L_GANGTIPS9="",game.L_GANGTIPS10="",game.L_GANGTIPS11="",game.L_GANGTIPS12="",game.L_GANGTIPS13="2",game.L_GANGTIPS14="",game.L_GANGTIPS15="",game.L_GANGTIPS16="",game.L_GANGTIPS17="",game.L_GANGTIPS18="",game.L_GANGTIPS19="",game.L_TTXY0="",game.L_TTXY1="",game.L_TTXY2="",game.L_TTXY3="",game.L_TTXY4="",game.L_TTXY5="",game.L_NUMBERINPUT1="",game.L_GANG_FB0="",game.L_GANG_FB1="",game.L_TEXT_INPUT1="",game.L_TEXT_INPUT2="20",game.L_GANG_BOSS0="1%",game.L_GANG_BOSS1="",game.L_GANG_BOSS2="boss",game.L_GANG_BOSS3="",game.L_GANG_BOSS4="",game.L_GANG_BOSS5="1000BOSS",game.L_GANG_BOSS6="",game.L_GANG_BOSS7="",game.L_GANG_BOSS8="",game.L_ACTIVTY_HELP={1:101,6:102,30:105,38:103},game.L_SHEZHICHENGGONG="",game.L_GANG_LIVELY0="",game.L_GANG_LIVELY1="",game.L_GANG_LIVELY2="",game.L_BAGGRIDNUMMAX="",game.L_NORONGLIAN="",game.L_MARRY_NOROLE="",game.L_MARRY_NOGRADE="",game.L_MARRY_HUSBAND="",game.L_MARRY_WIFE="",game.L_MARRY_TIPS="",game.L_MARRY_TIPS1="",game.L_MARRY_TIPS2="",game.L_MARRY_TIPS3="",game.L_MARRY_TIPS4="",game.L_MARRY_TIPS5="",game.L_MARRY_TIPS6="",game.L_MARRY_TIPS7="",game.L_MARRY_TIPS8="",game.L_MARRY_TIPS9="",game.L_MARRY_TIPS10="",game.L_MARRY_TIPS11="",game.L_MARRY_TIPS12="",game.L_MARRY_TIPS13="",game.L_MARRY_TIPS14="",game.L_XY_WALFARE="",game.L_XY_WALFARE0="",game.L_GOLD_TREASURE_LOT="",game.L_LEVEL_GIFT0="",game.L_LEVEL_GIFT1="",game.L_SIGN_GIFT0="",game.L_RICH_GIFT0="",game.L_RICH_GIFT1="",game.L_RICH_GIFT2="",game.L_RICH_GIFT3="",game.L_TEXT_RECEIVE="",game.L_ANSWER0="",game.L_ANSWER1="",game.L_ANSWER2="",game.L_ANSWER3="",game.L_PDYW0="   ",game.L_PDYW1="",game.L_PDYW2="",game.L_PDYW3="",game.L_PDYW4="",game.L_FIRSTPLAY0="",game.L_FIRSTPLAY1="",game.L_FIRSTPLAY2="",game.L_FIRSTPLAY3="",game.L_FIRSTPLAY4="",game.L_FIRSTPLAY5="",game.L_FIRSTPLAY6="",game.L_FIRSTPLAY7="",game.L_FIRSTPLAY8="",game.L_FIRSTPLAY9="",game.L_TRAVEL="",game.L_RECHSTORE="",game.L_GANG_MAP_TXT0="",game.L_GANG_MAP_TXT1="",game.L_GANG_MAP_TXT2="",game.L_GANG_MAP_TXT3="",game.L_GANG_MAP_TXT4="",game.L_GANG_MAP_TXT5="",game.L_GANG_MAP_TXT6="",game.L_GANG_MAP_TXT7="",game.L_GANG_MAP_TXT9="",game.L_GANG_MAP_TXT8="",game.L_GANG_MAP_TXT10="",game.L_GANG_MAP_TXT11="",game.L_GANG_MAP_TYPE0="",game.L_GANG_MAP_TYPE1="",game.L_GANG_MAP_TYPE2="",game.L_RECEIVED="",game.L_UPRIGHTDAN="",game.L_SJZSX="",game.L_SJZSX2="",game.L_JCZSX="",game.L_ZZZSX="",game.L_QYZSX="",game.L_POORDAY="",game.L_JJJL0="",game.L_QMJJ0="",game.L_QMJJ1="",game.L_QMJJ2="",game.L_QMJJ3="",game.L_ZKSD0="",game.L_ZKSD1="",game.L_XMDX0="",game.L_TUANGOU="",game.L_MIANFEI_GET="",game.L_ANY_GET="",game.L_YUANBAO_GET="",game.L_DAY_PAY_PNUM="",game.L_JIKE_GET="\n",game.L_ANY_MONEY_GET="\n",game.L_TOTAL_MONEY_GET="\n",game.L_YUANBAO_JIKE_GET="",game.L_LUCAICHUZI="",game.L_SUCAICHUZI="",game.L_YUECAICHUZI="",game.L_CHUANCAICHUZI="",game.L_COOKERGOD0="",game.L_COOKERGOD1="1",game.L_COOKERGOD2="2",game.L_COOKERGOD3="3",game.L_ADDGANGFUNDS="",game.L_SERHGY0="",game.L_SERHGY1="",game.L_SERHGY2="",game.L_SERHGY3="",game.L_SERHGY4="",game.L_SERHGY5="",game.L_SERHGY6="",game.L_SERHGY7="",game.L_SERHGY8="",game.L_SERHGY9="",game.L_SERHGY10="",game.L_SERHGY11="",game.L_SERHGY12="",game.L_SERHGY13="",game.L_SERHGY14="",game.L_SERHGY15="",game.L_SERHGY16="",game.L_SERHGY17="",game.L_SERHGY18="",game.L_RECH0="",game.L_RECH1="",game.L_RECH2="",game.L_OTHERPLAYER0="",game.L_OTHERPLAYER1="",game.L_OTHERPLAYER2="",game.L_OTHERPLAYER3="",game.L_SEARCH_ROLE="id",game.L_CONTINUE_CONSUME_GET="78888",game.L_GONGXIJIESUO="",game.L_XIANLV="",game.L_CHONGWU="",game.L_CHENGHAO="",game.L_ZAOXING="",game.L_DANGQIAN="",game.L_WEI="",game.L_USEGOUPJIE=",?",game.L_GT6JIE="6,700?",game.L_SSJ_DI="",game.L_SSJ_NAN="",game.L_SSJ_JIE="",game.L_SSJ_SHANGWEIKAIQI="",game.L_SSJ_HUIHE="",game.L_SSJ_HUAFEI="",game.L_SSJ_YBKQBX="",game.L_SSJ_JTHKKQ="\n",game.L_SSJ_CI="",game.L_SSJ_ZHENGZAIDUIWUZHONG="",game.L_SSJ_QINGXIANTONGGUAN="",game.L_WLMZ0="",game.L_WLMZ1="51",game.L_INACTIVITY="",game.L_DIANCIBANGZHU="",game.L_GANGFUBEN0="",game.L_GANGFUBEN1="",game.L_GANGFUBEN2="",game.L_YWC="",game.L_ZHENGZAIBANGPAINEI="",game.L_ZHENGZAIKUAFU="",game.L_ZUDUIZHONG="",game.AIXIYOUAISHENGHUO="",game.L_KUAFUZHUAGUI="",game.L_BANGPAIFUBEN="",game.L_SHENGSIJIE="",game.L_FUHUOLINGBUZU="",game.L_XYFL="200%",game.L_KAIFUJIESHU="",game.L_GODDESS_NAME="",game.L_GODDESS_SKILL="",game.L_GODDESS_EQUIP="",game.TABBTNSTRINGTX=" ",game.TABBTNSTRINGXQ=" ",game.TABBTNSTRINGXY=" ",game.TABBTNSTRINGLQ=" ",game.L_XIANQI_NAME="",game.L_XIANQI_SKILL="",game.L_XIANQI_EQUIP="",game.L_XIANYUN_NAME="",game.L_XIANYUN_SKILL="",game.L_XIANYUN_EQUIP="",game.L_LINGQI_SKILL="",game.L_LINGQI_EQUIP="",game.QIANGDUOLEWODE="",game.QIANGDUO="",game.WEIZHANLING="",game.L_HTMLFILTER="\\/&lt;&gt;&amp;",game.DJBZWFQD="",game.SHIFOUBA="",game.BIAOJI2="",game.YICHU2="",game.L_NOWEARQILING="",game.L_ROLELVLOW="",game.L_CAILIAOLOW="",game.L_XLCAILIAOLOW="",game.L_CLCAILIAOLOW="",game.L_BASEPROPUP="",game.L_PROPSUCCESS="",game.L_SELQLGRADEUP="",game.L_DAYNOTIP="",game.L_POSPROPMAX="",game.L_CUILIANFAILE="",game.L_LVGM="",game.L_LVGMMAX="",game.L_CNGM="",game.L_CNGMMAX="",game.L_JIAN="",game.L_CARD_ENDTIPS="",game.L_CARD_ENTERDLV="",game.L_CARD_ENTERDLV1="",game.L_CHAR_LIMIT_CHANGED="500"}(game||(game={})),function(base){"use strict";var MD5=function(){function MD5(hcase){void 0===hcase&&(hcase=0),this.hexcase=0,this.b64pad="",this.hexcase=hcase}return MD5.prototype.hex_raw_md5=function(s){return this.rstr2hex(this.rstr_md5(s))},MD5.prototype.hex_md5=function(s){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(s)))},MD5.prototype.b64_md5=function(s){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(s)))},MD5.prototype.any_md5=function(s,e){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(s)),e)},MD5.prototype.hex_hmac_md5=function(k,d){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(k),this.str2rstr_utf8(d)))},MD5.prototype.b64_hmac_md5=function(k,d){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(k),this.str2rstr_utf8(d)))},MD5.prototype.any_hmac_md5=function(k,d,e){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(k),this.str2rstr_utf8(d)),e)},MD5.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},MD5.prototype.rstr_md5=function(s){return this.binl2rstr(this.binl_md5(this.rstr2binl(s),8*s.length))},MD5.prototype.rstr_hmac_md5=function(key,data){var bkey=this.rstr2binl(key);16<bkey.length&&(bkey=this.binl_md5(bkey,8*key.length));for(var ipad=Array(16),opad=Array(16),i=0;i<16;i++)ipad[i]=909522486^bkey[i],opad[i]=1549556828^bkey[i];var hash=this.binl_md5(ipad.concat(this.rstr2binl(data)),512+8*data.length);return this.binl2rstr(this.binl_md5(opad.concat(hash),640))},MD5.prototype.rstr2hex=function(input){try{this.hexcase}catch(e){this.hexcase=0}for(var x,hex_tab=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",output="",i=0;i<input.length;i++)x=input.charCodeAt(i),output+=hex_tab.charAt(x>>>4&15)+hex_tab.charAt(15&x);return output},MD5.prototype.rstr2b64=function(input){try{this.b64pad}catch(e){this.b64pad=""}for(var output="",len=input.length,i=0;i<len;i+=3)for(var triplet=input.charCodeAt(i)<<16|(i+1<len?input.charCodeAt(i+1)<<8:0)|(i+2<len?input.charCodeAt(i+2):0),j=0;j<4;j++)8*i+6*j>8*input.length?output+=this.b64pad:output+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(triplet>>>6*(3-j)&63);return output},MD5.prototype.rstr2any=function(input,encoding){var i,j,q,x,quotient,divisor=encoding.length,dividend=Array(Math.ceil(input.length/2));for(i=0;i<dividend.length;i++)dividend[i]=input.charCodeAt(2*i)<<8|input.charCodeAt(2*i+1);var full_length=Math.ceil(8*input.length/(Math.log(encoding.length)/Math.log(2))),remainders=Array(full_length);for(j=0;j<full_length;j++){for(quotient=Array(),i=x=0;i<dividend.length;i++)x=(x<<16)+dividend[i],x-=(q=Math.floor(x/divisor))*divisor,(0<quotient.length||0<q)&&(quotient[quotient.length]=q);remainders[j]=x,dividend=quotient}var output="";for(i=remainders.length-1;0<=i;i--)output+=encoding.charAt(remainders[i]);return output},MD5.prototype.str2rstr_utf8=function(input){for(var x,y,output="",i=-1;++i<input.length;)x=input.charCodeAt(i),y=i+1<input.length?input.charCodeAt(i+1):0,55296<=x&&x<=56319&&56320<=y&&y<=57343&&(x=65536+((1023&x)<<10)+(1023&y),i++),x<=127?output+=String.fromCharCode(x):x<=2047?output+=String.fromCharCode(192|x>>>6&31,128|63&x):x<=65535?output+=String.fromCharCode(224|x>>>12&15,128|x>>>6&63,128|63&x):x<=2097151&&(output+=String.fromCharCode(240|x>>>18&7,128|x>>>12&63,128|x>>>6&63,128|63&x));return output},MD5.prototype.str2rstr_utf16le=function(input){for(var output="",i=0;i<input.length;i++)output+=String.fromCharCode(255&input.charCodeAt(i),input.charCodeAt(i)>>>8&255);return output},MD5.prototype.str2rstr_utf16be=function(input){for(var output="",i=0;i<input.length;i++)output+=String.fromCharCode(input.charCodeAt(i)>>>8&255,255&input.charCodeAt(i));return output},MD5.prototype.rstr2binl=function(input){for(var output=Array(input.length>>2),i=0;i<output.length;i++)output[i]=0;for(i=0;i<8*input.length;i+=8)output[i>>5]|=(255&input.charCodeAt(i/8))<<i%32;return output},MD5.prototype.binl2rstr=function(input){for(var output="",i=0;i<32*input.length;i+=8)output+=String.fromCharCode(input[i>>5]>>>i%32&255);return output},MD5.prototype.binl_md5=function(x,len){x[len>>5]|=128<<len%32,x[14+(len+64>>>9<<4)]=len;for(var a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16){var olda=a,oldb=b,oldc=c,oldd=d;a=this.md5_ff(a,b,c,d,x[i+0],7,-680876936),d=this.md5_ff(d,a,b,c,x[i+1],12,-389564586),c=this.md5_ff(c,d,a,b,x[i+2],17,606105819),b=this.md5_ff(b,c,d,a,x[i+3],22,-1044525330),a=this.md5_ff(a,b,c,d,x[i+4],7,-176418897),d=this.md5_ff(d,a,b,c,x[i+5],12,1200080426),c=this.md5_ff(c,d,a,b,x[i+6],17,-1473231341),b=this.md5_ff(b,c,d,a,x[i+7],22,-45705983),a=this.md5_ff(a,b,c,d,x[i+8],7,1770035416),d=this.md5_ff(d,a,b,c,x[i+9],12,-1958414417),c=this.md5_ff(c,d,a,b,x[i+10],17,-42063),b=this.md5_ff(b,c,d,a,x[i+11],22,-1990404162),a=this.md5_ff(a,b,c,d,x[i+12],7,1804603682),d=this.md5_ff(d,a,b,c,x[i+13],12,-40341101),c=this.md5_ff(c,d,a,b,x[i+14],17,-1502002290),b=this.md5_ff(b,c,d,a,x[i+15],22,1236535329),a=this.md5_gg(a,b,c,d,x[i+1],5,-165796510),d=this.md5_gg(d,a,b,c,x[i+6],9,-1069501632),c=this.md5_gg(c,d,a,b,x[i+11],14,643717713),b=this.md5_gg(b,c,d,a,x[i+0],20,-373897302),a=this.md5_gg(a,b,c,d,x[i+5],5,-701558691),d=this.md5_gg(d,a,b,c,x[i+10],9,38016083),c=this.md5_gg(c,d,a,b,x[i+15],14,-660478335),b=this.md5_gg(b,c,d,a,x[i+4],20,-405537848),a=this.md5_gg(a,b,c,d,x[i+9],5,568446438),d=this.md5_gg(d,a,b,c,x[i+14],9,-1019803690),c=this.md5_gg(c,d,a,b,x[i+3],14,-187363961),b=this.md5_gg(b,c,d,a,x[i+8],20,1163531501),a=this.md5_gg(a,b,c,d,x[i+13],5,-1444681467),d=this.md5_gg(d,a,b,c,x[i+2],9,-51403784),c=this.md5_gg(c,d,a,b,x[i+7],14,1735328473),b=this.md5_gg(b,c,d,a,x[i+12],20,-1926607734),a=this.md5_hh(a,b,c,d,x[i+5],4,-378558),d=this.md5_hh(d,a,b,c,x[i+8],11,-2022574463),c=this.md5_hh(c,d,a,b,x[i+11],16,1839030562),b=this.md5_hh(b,c,d,a,x[i+14],23,-35309556),a=this.md5_hh(a,b,c,d,x[i+1],4,-1530992060),d=this.md5_hh(d,a,b,c,x[i+4],11,1272893353),c=this.md5_hh(c,d,a,b,x[i+7],16,-155497632),b=this.md5_hh(b,c,d,a,x[i+10],23,-1094730640),a=this.md5_hh(a,b,c,d,x[i+13],4,681279174),d=this.md5_hh(d,a,b,c,x[i+0],11,-358537222),c=this.md5_hh(c,d,a,b,x[i+3],16,-722521979),b=this.md5_hh(b,c,d,a,x[i+6],23,76029189),a=this.md5_hh(a,b,c,d,x[i+9],4,-640364487),d=this.md5_hh(d,a,b,c,x[i+12],11,-421815835),c=this.md5_hh(c,d,a,b,x[i+15],16,530742520),b=this.md5_hh(b,c,d,a,x[i+2],23,-995338651),a=this.md5_ii(a,b,c,d,x[i+0],6,-198630844),d=this.md5_ii(d,a,b,c,x[i+7],10,1126891415),c=this.md5_ii(c,d,a,b,x[i+14],15,-1416354905),b=this.md5_ii(b,c,d,a,x[i+5],21,-57434055),a=this.md5_ii(a,b,c,d,x[i+12],6,1700485571),d=this.md5_ii(d,a,b,c,x[i+3],10,-1894986606),c=this.md5_ii(c,d,a,b,x[i+10],15,-1051523),b=this.md5_ii(b,c,d,a,x[i+1],21,-2054922799),a=this.md5_ii(a,b,c,d,x[i+8],6,1873313359),d=this.md5_ii(d,a,b,c,x[i+15],10,-30611744),c=this.md5_ii(c,d,a,b,x[i+6],15,-1560198380),b=this.md5_ii(b,c,d,a,x[i+13],21,1309151649),a=this.md5_ii(a,b,c,d,x[i+4],6,-145523070),d=this.md5_ii(d,a,b,c,x[i+11],10,-1120210379),c=this.md5_ii(c,d,a,b,x[i+2],15,718787259),b=this.md5_ii(b,c,d,a,x[i+9],21,-343485551),a=this.safe_add(a,olda),b=this.safe_add(b,oldb),c=this.safe_add(c,oldc),d=this.safe_add(d,oldd)}return[a,b,c,d]},MD5.prototype.md5_cmn=function(q,a,b,x,s,t){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(a,q),this.safe_add(x,t)),s),b)},MD5.prototype.md5_ff=function(a,b,c,d,x,s,t){return this.md5_cmn(b&c|~b&d,a,b,x,s,t)},MD5.prototype.md5_gg=function(a,b,c,d,x,s,t){return this.md5_cmn(b&d|c&~d,a,b,x,s,t)},MD5.prototype.md5_hh=function(a,b,c,d,x,s,t){return this.md5_cmn(b^c^d,a,b,x,s,t)},MD5.prototype.md5_ii=function(a,b,c,d,x,s,t){return this.md5_cmn(c^(b|~d),a,b,x,s,t)},MD5.prototype.safe_add=function(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw},MD5.prototype.bit_rol=function(num,cnt){return num<<cnt|num>>>32-cnt},MD5}();base.MD5=MD5}(base||(base={})),function(base){var Player=function(){function Player(){this.m_id=0,this.m_name="",this.m_shape=0,this.m_desc=null,this.m_grade=0,this.m_classes=0,this.m_battlevalue=0,this.m_vip=0,this.m_gangid=0,this.m_gangname="",this.m_sign="",this.m_isfriend=0,this.m_isblack=0,this.m_online=0,this.m_getcoin=0,this.m_chattime=0,this.m_svr_id=0}return Player.prototype.dispose=function(){},Player}();base.Player=Player;var Skill=function(){function Skill(){this.m_id=0,this.m_lv=0,this.m_icon=0,this.m_cost=0,this.m_costonce=0}return Skill.prototype.dispose=function(){},Skill}();base.Skill=Skill}(base||(base={})),function(timer_1){var Timer=function(){this.id=0,this.interval=0,this.trigger_ms_timestamp=0,this.caller=null,this.callback_func=null},timer_mgr=function(){function timer_mgr(){this.cur_id=0,this.timer_dict=new Laya.Dictionary,this.caller_dict=new Laya.Dictionary}return timer_mgr.prototype.add_timer=function(interval,caller,callback_func){var tid_arr=this.caller_dict.get(caller);if(tid_arr)for(var _i=0,tid_arr_1=tid_arr;_i<tid_arr_1.length;_i++){var tid=tid_arr_1[_i],timer_2=this.timer_dict.get(tid);if(timer_2&&timer_2.callback_func==callback_func)return core.game_tiplog("WARNING:timer_mgr add_timer repeat, id:",tid),tid}var timer=new Timer,new_id=this._get_next_id();return timer.id=new_id,timer.interval=interval,timer.trigger_ms_timestamp=laya.utils.Browser.now(),timer.caller=caller,timer.callback_func=callback_func,this.timer_dict.set(new_id,timer),null==tid_arr&&(tid_arr=new Array),tid_arr.push(new_id),this.caller_dict.set(caller,tid_arr),new_id},timer_mgr.prototype._get_next_id=function(){return this.cur_id+=1,this.cur_id},timer_mgr.prototype.remove_timer=function(t_id){var timer=this.timer_dict.get(t_id);if(timer){var tid_arr=this.caller_dict.get(timer.caller);if(tid_arr){var idx=tid_arr.indexOf(t_id);0<=idx&&tid_arr.splice(idx,1),0==tid_arr.length?this.caller_dict.remove(timer.caller):this.caller_dict.set(timer.caller,tid_arr)}}this.timer_dict.remove(t_id)},timer_mgr.prototype.remove_all_timer=function(caller){var tid_arr=this.caller_dict.get(caller);if(tid_arr){for(var _i=0,tid_arr_2=tid_arr;_i<tid_arr_2.length;_i++){var tid=tid_arr_2[_i];this.timer_dict.remove(tid)}this.caller_dict.remove(caller)}},timer_mgr.prototype.update=function(cur_ms_timestamp){for(var timer_ins,triger_list=new Array,_i=0,_a=this.timer_dict.values;_i<_a.length;_i++)(timer_ins=_a[_i]).trigger_ms_timestamp<cur_ms_timestamp&&(timer_ins.trigger_ms_timestamp+=timer_ins.interval,triger_list.push(timer_ins));for(var _b=0,triger_list_1=triger_list;_b<triger_list_1.length;_b++)(timer_ins=triger_list_1[_b])&&timer_ins.caller&&timer_ins.callback_func&&timer_ins.callback_func.apply(timer_ins.caller)},timer_mgr}(),g_timer_mgr=null;timer_1.timer_ins=function(){return null==g_timer_mgr&&(g_timer_mgr=new timer_mgr),g_timer_mgr}}(timer||(timer={}));